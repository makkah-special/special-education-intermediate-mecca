<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¨ÙˆØ§Ø¨Ø© Ø·Ù„Ø§Ø¨ ÙŠØ³ÙŠØ± | Ù…Ø¯Ø±Ø³Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800;900&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --primary: #1a3a5c;
    --accent: #c8973a;
    --accent-light: #f0b84a;
    --purple: #6d28d9;
    --purple-light: #7c3aed;
    --green: #1a6b4a;
    --green-light: #22a06b;
    --bg: #f5f2eb;
    --card: #ffffff;
    --border: #e0d8c8;
    --text: #1a1a2e;
    --muted: #5a6478;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Cairo', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
  }

  /* ===== HEADER ===== */
  header {
    background: linear-gradient(135deg, #1a3a5c 0%, #0f2440 60%, #1a4a6c 100%);
    padding: 16px 36px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 3px solid var(--accent);
  }

  .header-left { display: flex; align-items: center; gap: 14px; }

  .header-icon {
    width: 46px; height: 46px;
    border-radius: 12px;
    background: rgba(200,151,58,0.18);
    border: 1px solid rgba(200,151,58,0.35);
    display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem;
  }

  .header-title { color: #fff; font-family: 'Tajawal', sans-serif; font-size: 1.1rem; font-weight: 900; }
  .header-sub { color: rgba(255,255,255,0.55); font-size: 0.76rem; margin-top: 2px; }

  .back-btn {
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.18);
    color: rgba(255,255,255,0.8);
    padding: 8px 18px;
    border-radius: 8px;
    text-decoration: none;
    font-size: 0.82rem;
    font-weight: 600;
    transition: all 0.2s;
  }
  .back-btn:hover { background: rgba(255,255,255,0.15); }

  /* ===== LOGIN SCREEN ===== */
  #login-screen {
    min-height: calc(100vh - 76px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px 20px;
  }

  .login-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 24px;
    padding: 48px 40px;
    max-width: 420px;
    width: 100%;
    box-shadow: 0 24px 64px rgba(0,0,0,0.1);
    text-align: center;
  }

  .login-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: #ede9fe;
    border: 1px solid #c4b5fd;
    color: var(--purple);
    padding: 6px 18px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
    margin-bottom: 20px;
  }

  .login-icon-big {
    width: 80px; height: 80px;
    border-radius: 20px;
    background: linear-gradient(135deg, #ede9fe, #ddd6fe);
    margin: 0 auto 22px;
    display: flex; align-items: center; justify-content: center;
    font-size: 2.6rem;
    box-shadow: 0 8px 24px rgba(109,40,217,0.2);
  }

  .login-card h2 {
    font-family: 'Tajawal', sans-serif;
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--primary);
    margin-bottom: 8px;
  }

  .login-card .login-desc {
    color: var(--muted);
    font-size: 0.86rem;
    line-height: 1.7;
    margin-bottom: 30px;
  }

  .input-label {
    text-align: right;
    font-size: 0.83rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .pin-input {
    width: 100%;
    padding: 15px 20px;
    border: 2px solid var(--border);
    border-radius: 12px;
    font-family: 'Cairo', sans-serif;
    font-size: 1.3rem;
    font-weight: 700;
    text-align: center;
    letter-spacing: 8px;
    color: var(--primary);
    outline: none;
    transition: all 0.25s;
    background: #fafafa;
    margin-bottom: 12px;
  }

  .pin-input:focus {
    border-color: var(--purple-light);
    background: #fff;
    box-shadow: 0 0 0 4px rgba(124,58,237,0.1);
  }

  .pin-input.error {
    border-color: #ef4444;
    background: #fff5f5;
    animation: shake 0.4s ease;
  }

  @keyframes shake {
    0%,100% { transform: translateX(0); }
    20% { transform: translateX(-10px); }
    60% { transform: translateX(10px); }
    80% { transform: translateX(-5px); }
  }

  .error-msg {
    display: none;
    color: #dc2626;
    font-size: 0.82rem;
    font-weight: 700;
    margin-bottom: 12px;
    background: #fee2e2;
    border-radius: 8px;
    padding: 8px 14px;
  }
  .error-msg.show { display: block; }

  .login-btn {
    width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, var(--purple), var(--purple-light));
    color: #fff;
    border: none;
    border-radius: 12px;
    font-family: 'Cairo', sans-serif;
    font-size: 1rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 6px 20px rgba(109,40,217,0.3);
    letter-spacing: 0.5px;
  }
  .login-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(109,40,217,0.45); }
  .login-btn:active { transform: translateY(0); }

  .hint-box {
    margin-top: 22px;
    background: #fffbf0;
    border: 1px solid #f0d898;
    border-right: 3px solid var(--accent);
    border-radius: 10px;
    padding: 13px 16px;
    font-size: 0.79rem;
    color: #7a5800;
    text-align: right;
    line-height: 1.7;
  }

  /* ===== PORTAL ===== */
  #student-portal { display: none; }

  .portal-banner {
    background: linear-gradient(135deg, var(--green) 0%, #0d4a30 100%);
    padding: 26px 36px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 14px;
    border-bottom: 3px solid var(--accent);
  }

  .student-identity { color: #fff; display:flex; align-items:center; gap:16px; }

  .student-photo-wrap {
    position: relative;
    flex-shrink: 0;
  }
  .student-photo {
    width: 70px; height: 70px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid rgba(240,184,74,0.7);
    background: rgba(255,255,255,0.1);
    display: flex; align-items: center; justify-content: center;
    font-size: 2rem;
    cursor: pointer;
    transition: all 0.2s;
  }
  .student-photo:hover { border-color: #f0b84a; transform: scale(1.05); }
  .student-photo img { width:100%; height:100%; border-radius:50%; object-fit:cover; }
  .photo-change-btn {
    position: absolute;
    bottom: 0; left: 0;
    background: #f0b84a;
    color: #1a3a5c;
    border: none;
    border-radius: 50%;
    width: 22px; height: 22px;
    font-size: 0.65rem;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-weight: 900;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  }
  .photo-input { display: none; }

  .student-name-display {
    font-family: 'Tajawal', sans-serif;
    font-size: 1.4rem;
    font-weight: 900;
    margin-bottom: 4px;
  }

  .student-meta-display {
    opacity: 0.7;
    font-size: 0.82rem;
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .meta-chip {
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.2);
    padding: 3px 12px;
    border-radius: 12px;
    font-size: 0.76rem;
  }

  .logout-btn {
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.2);
    color: rgba(255,255,255,0.85);
    padding: 9px 20px;
    border-radius: 9px;
    cursor: pointer;
    font-family: 'Cairo', sans-serif;
    font-size: 0.84rem;
    font-weight: 700;
    transition: all 0.2s;
  }
  .logout-btn:hover { background: rgba(255,255,255,0.2); }

  .portal-body {
    max-width: 960px;
    margin: 0 auto;
    padding: 28px 36px 60px;
  }

  /* TABS */
  .tabs {
    display: flex;
    gap: 4px;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 6px;
    margin-bottom: 26px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  }

  .tab-btn {
    flex: 1;
    padding: 10px 8px;
    border: none;
    background: transparent;
    border-radius: 9px;
    font-family: 'Cairo', sans-serif;
    font-size: 0.84rem;
    font-weight: 700;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.22s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
  }

  .tab-btn.active {
    background: linear-gradient(135deg, var(--green), var(--green-light));
    color: #fff;
    box-shadow: 0 3px 12px rgba(26,107,74,0.35);
  }

  .tab-pane { display: none; animation: fadeIn 0.3s ease; }
  .tab-pane.active { display: block; }

  @keyframes fadeIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }

  /* CARD */
  .s-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
    margin-bottom: 18px;
    box-shadow: 0 2px 14px rgba(0,0,0,0.04);
  }

  .s-card-head {
    padding: 14px 22px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 9px;
    font-weight: 800;
    font-size: 0.92rem;
    color: var(--primary);
    background: linear-gradient(135deg, #f8fffe, #f0faf5);
  }

  /* INFO TABLE */
  .info-tbl { width: 100%; border-collapse: collapse; }
  .info-tbl tr { border-bottom: 1px solid var(--border); }
  .info-tbl tr:last-child { border-bottom: none; }
  .info-tbl th {
    padding: 12px 22px;
    text-align: right;
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--muted);
    background: #f9f9f9;
    width: 30%;
  }
  .info-tbl td {
    padding: 12px 22px;
    font-size: 0.88rem;
    font-weight: 600;
    color: var(--text);
  }

  .tag {
    display: inline-block;
    padding: 3px 12px;
    border-radius: 12px;
    font-size: 0.76rem;
    font-weight: 700;
  }
  .tag-green { background: #d1fae5; color: #065f46; }
  .btn-download-report {
    display: inline-flex; align-items: center; gap: 4px;
    background: linear-gradient(135deg, #1a3a5c, #2563a8);
    color: #fff; padding: 5px 12px; border-radius: 8px;
    font-size: 0.75rem; font-weight: 700; text-decoration: none;
    white-space: nowrap; transition: all 0.2s;
    box-shadow: 0 2px 6px rgba(26,58,92,0.2);
  }
  .btn-download-report:hover { transform: translateY(-1px); box-shadow: 0 4px 10px rgba(26,58,92,0.3); }
  .tag-blue  { background: #dbeafe; color: #1e40af; }
  .tag-blue { background: #dbeafe; color: #1e40af; }
  .tag-yellow { background: #fef3c7; color: #92400e; }
  .tag-purple { background: #ede9fe; color: #5b21b6; }
  .tag-gray { background: #f3f4f6; color: #4b5563; }

  /* PLAN GRID */
  .plan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 14px;
    padding: 18px;
  }

  .plan-box {
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px;
    background: #fafcff;
    transition: all 0.2s;
  }
  .plan-box:hover { border-color: var(--green-light); transform: translateY(-2px); }

  .plan-box-head {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
  }

  .plan-dot {
    width: 9px; height: 9px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .plan-box h4 { font-size: 0.86rem; font-weight: 800; color: var(--primary); }
  .plan-box p { font-size: 0.8rem; color: var(--muted); line-height: 1.7; }

  /* REPORTS */
  .report-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 22px;
    border-bottom: 1px solid var(--border);
    transition: background 0.15s;
    gap: 14px;
  }
  .report-row:last-child { border-bottom: none; }
  .report-row:hover { background: #f8fffe; }

  .report-left { display: flex; align-items: center; gap: 14px; }

  .report-icon {
    width: 42px; height: 42px;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 1.2rem;
    flex-shrink: 0;
  }

  .report-name { font-size: 0.88rem; font-weight: 700; color: var(--primary); }
  .report-date { font-size: 0.75rem; color: var(--muted); margin-top: 2px; }

  /* FOLLOW-UP TABLE */
  .fu-table { width: 100%; border-collapse: collapse; font-size: 0.83rem; }
  .fu-table th {
    background: linear-gradient(135deg, var(--green), var(--green-light));
    color: #fff;
    padding: 11px 14px;
    text-align: center;
    font-weight: 700;
  }
  .fu-table td {
    padding: 10px 14px;
    text-align: center;
    border-bottom: 1px solid var(--border);
    color: var(--text);
    font-weight: 600;
  }
  .fu-table tr:last-child td { border-bottom: none; }
  .fu-table tr:hover td { background: #f0faf5; }

  .circle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 28px; height: 28px;
    border-radius: 50%;
    font-size: 0.85rem;
  }
  .c-done { background: #d1fae5; color: #065f46; }
  .c-part { background: #fef3c7; color: #92400e; }
  .c-no   { background: #fee2e2; color: #991b1b; }

  /* PDF VIEWER */
  .pdf-section {
    margin-bottom: 24px;
  }

  .pdf-section-title {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 0.95rem;
    font-weight: 800;
    color: var(--primary);
    margin-bottom: 12px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--border);
  }

  .pdf-level-badge {
    background: var(--accent);
    color: #fff;
    padding: 3px 12px;
    border-radius: 12px;
    font-size: 0.76rem;
    font-weight: 700;
  }

  .pdf-frame-wrap {
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
    background: #f5f5f5;
    position: relative;
  }

  .pdf-frame-wrap iframe {
    width: 100%;
    height: 500px;
    border: none;
    display: block;
  }

  .pdf-actions {
    display: flex;
    gap: 10px;
    margin-top: 10px;
    flex-wrap: wrap;
  }

  .btn-pdf {
    display: inline-flex;
    align-items: center;
    gap: 7px;
    padding: 9px 18px;
    border-radius: 9px;
    font-family: 'Cairo', sans-serif;
    font-size: 0.84rem;
    font-weight: 700;
    text-decoration: none;
    transition: all 0.2s;
    border: none;
    cursor: pointer;
  }

  .btn-pdf-primary {
    background: linear-gradient(135deg, var(--primary), var(--primary-light, #2563a8));
    color: #fff;
    box-shadow: 0 3px 12px rgba(26,58,92,0.25);
  }

  .btn-pdf-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 18px rgba(26,58,92,0.35); }

  .btn-pdf-secondary {
    background: #fff;
    color: var(--primary);
    border: 1px solid var(--border);
  }

  .btn-pdf-secondary:hover { border-color: var(--primary); background: #f0f4ff; }

  /* IQRAR */
  .iqrar-box {
    background: linear-gradient(135deg, #fffbf0, #fff8e6);
    border: 1px solid #f0d898;
    border-right: 4px solid var(--accent);
    border-radius: 14px;
    padding: 24px;
    margin-bottom: 20px;
    font-size: 0.9rem;
    line-height: 2;
    color: var(--text);
  }

  .iqrar-box h3 {
    font-family: 'Tajawal', sans-serif;
    font-size: 1.1rem;
    font-weight: 900;
    color: var(--primary);
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .iqrar-fields {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin: 20px 0;
  }

  .iqrar-field {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 12px 16px;
  }

  .iqrar-field label {
    display: block;
    font-size: 0.76rem;
    font-weight: 700;
    color: var(--muted);
    margin-bottom: 6px;
  }

  .iqrar-field span {
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--primary);
  }

  .sign-area {
    border: 2px dashed var(--border);
    border-radius: 12px;
    background: #fff;
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 8px;
    cursor: pointer;
    transition: all 0.25s;
    margin: 16px 0;
    position: relative;
    overflow: hidden;
  }

  .sign-area:hover { border-color: var(--accent); background: #fffbf0; }
  .sign-area.signed { border-color: var(--green-light); border-style: solid; background: #f0faf5; }

  .sign-area canvas {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
  }

  .sign-placeholder { color: var(--muted); font-size: 0.84rem; font-weight: 600; text-align: center; }
  .sign-placeholder span { font-size: 1.6rem; display: block; margin-bottom: 4px; }

  .iqrar-actions { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 16px; }

  .btn-sign {
    background: linear-gradient(135deg, var(--green), var(--green-light));
    color: #fff;
    border: none;
    padding: 12px 24px;
    border-radius: 10px;
    font-family: 'Cairo', sans-serif;
    font-size: 0.9rem;
    font-weight: 800;
    cursor: pointer;
    transition: all 0.25s;
    box-shadow: 0 4px 14px rgba(26,107,74,0.3);
  }

  .btn-sign:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(26,107,74,0.4); }

  .btn-clear-sign {
    background: #fff;
    color: var(--muted);
    border: 1px solid var(--border);
    padding: 12px 20px;
    border-radius: 10px;
    font-family: 'Cairo', sans-serif;
    font-size: 0.88rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
  }

  .btn-clear-sign:hover { border-color: #ef4444; color: #ef4444; }

  .signed-badge {
    display: none;
    background: #d1fae5;
    border: 1px solid #6ee7b7;
    color: #065f46;
    padding: 10px 18px;
    border-radius: 10px;
    font-size: 0.85rem;
    font-weight: 700;
    align-items: center;
    gap: 8px;
  }

  /* ADMIN PANEL */
  #admin-portal { display:none; }

  .admin-banner {
    background: linear-gradient(135deg, #1a3a5c 0%, #0f2440 60%, #1a4a6c 100%);
    padding: 22px 36px;
    display: flex; align-items: center; justify-content: space-between;
    border-bottom: 4px solid #c8973a;
  }
  .admin-badge {
    background: rgba(200,151,58,0.2); border: 1px solid rgba(200,151,58,0.4);
    color: #f0b84a; padding: 5px 16px; border-radius: 20px; font-size: 0.8rem; font-weight: 700;
  }
  .admin-body { max-width: 960px; margin: 0 auto; padding: 28px 36px 60px; }

  .admin-tabs {
    display: flex; gap: 4px; background: #fff; border: 1px solid var(--border);
    border-radius: 14px; padding: 6px; margin-bottom: 26px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.04);
  }
  .admin-tab-btn {
    flex: 1; padding: 10px 8px; border: none; background: transparent; border-radius: 9px;
    font-family: 'Cairo', sans-serif; font-size: 0.84rem; font-weight: 700;
    color: var(--muted); cursor: pointer; transition: all 0.22s;
    display: flex; align-items: center; justify-content: center; gap: 5px;
  }
  .admin-tab-btn.active {
    background: linear-gradient(135deg, #1a3a5c, #2563a8);
    color: #fff; box-shadow: 0 3px 12px rgba(26,58,92,0.35);
  }
  .admin-tab-pane { display: none; animation: fadeIn 0.3s ease; }
  .admin-tab-pane.active { display: block; }

  /* Student cards grid */
  .students-grid {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 14px;
  }
  .stu-card {
    background: #fff; border: 1px solid var(--border); border-radius: 14px;
    padding: 16px 18px; cursor: pointer; transition: all 0.2s;
    display: flex; align-items: center; gap: 12px;
  }
  .stu-card:hover { border-color: var(--green-light); box-shadow: 0 4px 18px rgba(26,107,74,0.12); transform: translateY(-2px); }
  .stu-card-avatar {
    width: 44px; height: 44px; border-radius: 50%; background: linear-gradient(135deg,#e6f4ef,#d1fae5);
    display: flex; align-items: center; justify-content: center; font-size: 1.3rem; flex-shrink: 0;
  }
  .stu-card-name { font-weight: 800; font-size: 0.88rem; color: var(--primary); margin-bottom: 3px; }
  .stu-card-meta { font-size: 0.75rem; color: var(--muted); }
  .stu-card-pin { font-size: 0.72rem; background: #ede9fe; color: #5b21b6; padding: 2px 8px; border-radius: 8px; font-weight: 700; }

  /* Edit Modal */
  .modal-overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,0.5); z-index: 1000;
    align-items: center; justify-content: center; padding: 20px;
  }
  .modal-overlay.open { display: flex; }
  .modal-box {
    background: #fff; border-radius: 20px; padding: 32px; width: 100%;
    max-width: 560px; max-height: 90vh; overflow-y: auto;
    box-shadow: 0 24px 64px rgba(0,0,0,0.25);
    animation: fadeIn 0.2s ease;
  }
  .modal-title {
    font-family: 'Tajawal', sans-serif; font-size: 1.2rem; font-weight: 900;
    color: var(--primary); margin-bottom: 20px; display: flex; align-items: center; gap: 8px;
    border-bottom: 2px solid var(--border); padding-bottom: 14px;
  }
  .form-group { margin-bottom: 16px; }
  .form-label { display: block; font-size: 0.8rem; font-weight: 700; color: var(--muted); margin-bottom: 6px; }
  .form-input {
    width: 100%; padding: 11px 14px; border: 1.5px solid var(--border); border-radius: 10px;
    font-family: 'Cairo', sans-serif; font-size: 0.88rem; color: var(--text); outline: none;
    transition: border-color 0.2s;
  }
  .form-input:focus { border-color: var(--green-light); box-shadow: 0 0 0 3px rgba(34,160,107,0.1); }
  .form-actions { display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
  .btn-save {
    background: linear-gradient(135deg, var(--green), var(--green-light)); color: #fff;
    border: none; padding: 12px 24px; border-radius: 10px;
    font-family: 'Cairo', sans-serif; font-size: 0.9rem; font-weight: 800;
    cursor: pointer; transition: all 0.2s; box-shadow: 0 4px 14px rgba(26,107,74,0.3);
  }
  .btn-save:hover { transform: translateY(-2px); }
  .btn-cancel {
    background: #fff; color: var(--muted); border: 1px solid var(--border);
    padding: 12px 20px; border-radius: 10px; font-family: 'Cairo', sans-serif;
    font-size: 0.88rem; font-weight: 700; cursor: pointer; transition: all 0.2s;
  }
  .btn-delete-student {
    background: #fff; color: #dc2626; border: 1px solid #fecaca;
    padding: 12px 20px; border-radius: 10px; font-family: 'Cairo', sans-serif;
    font-size: 0.88rem; font-weight: 700; cursor: pointer; transition: all 0.2s; margin-right: auto;
  }
  .btn-delete-student:hover { background: #fee2e2; }

  /* Plan goals editor */
  .goal-row {
    background: #f9fafb; border: 1px solid var(--border); border-radius: 10px;
    padding: 12px 14px; margin-bottom: 10px; position: relative;
  }
  .goal-row .form-input { margin-bottom: 8px; }
  .goal-row .form-input:last-of-type { margin-bottom: 0; }
  .btn-remove-goal {
    position: absolute; top: 8px; left: 8px; background: #fee2e2; color: #dc2626;
    border: none; border-radius: 6px; width: 26px; height: 26px; cursor: pointer;
    font-size: 0.8rem; display: flex; align-items: center; justify-content: center;
  }
  .btn-add-goal {
    background: #f0faf5; border: 1.5px dashed var(--green-light); color: var(--green);
    width: 100%; padding: 10px; border-radius: 10px; font-family: 'Cairo', sans-serif;
    font-size: 0.85rem; font-weight: 700; cursor: pointer; transition: all 0.2s; margin-top: 8px;
  }
  .btn-add-goal:hover { background: #e6f4ef; }

  /* Follow-up editor */
  .fu-edit-row {
    display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr 28px;
    gap: 6px; align-items: center; margin-bottom: 8px;
  }
  .fu-edit-row input, .fu-edit-row select {
    padding: 8px 10px; border: 1.5px solid var(--border); border-radius: 8px;
    font-family: 'Cairo', sans-serif; font-size: 0.78rem; outline: none; width: 100%;
  }
  .fu-edit-row select { text-align: center; }

  /* Add student form */
  .add-student-card {
    background: #fff; border: 2px dashed var(--green-light); border-radius: 16px;
    padding: 28px; text-align: center; cursor: pointer; transition: all 0.2s;
    color: var(--green); font-weight: 700;
  }
  .add-student-card:hover { background: #f0faf5; }

  .success-toast {
    position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
    background: #1a6b4a; color: #fff; padding: 12px 28px; border-radius: 12px;
    font-weight: 700; font-size: 0.88rem; z-index: 9999;
    box-shadow: 0 8px 24px rgba(26,107,74,0.4); display: none;
    animation: fadeIn 0.3s ease;
  }

  /* RESPONSIVE */
  @media (max-width: 640px) {
    header { padding: 12px 18px; }
    .portal-banner { padding: 18px; }
    .portal-body { padding: 18px 16px 40px; }
    .tabs { flex-wrap: wrap; }
    .tab-btn { font-size: 0.75rem; padding: 8px 4px; }
    .login-card { padding: 32px 22px; }
  }
</style>
</head>
<body>

<header>
  <div class="header-left">
    <div class="header-icon">ğŸ“˜</div>
    <div>
      <div class="header-title">Ø¨ÙˆØ§Ø¨Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ â€” Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ±</div>
      <div class="header-sub">Ù…Ø¯Ø±Ø³Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© | Ù‚Ø³Ù… Ø°ÙˆÙŠ Ø§Ù„Ø¥Ø¹Ø§Ù‚Ø©</div>
    </div>
  </div>
  <a href="index.html" class="back-btn">â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
</header>

<!-- ============ LOGIN ============ -->
<div id="login-screen">
  <div class="login-card">
    <div class="login-badge">ğŸ” Ø¨ÙˆØ§Ø¨Ø© Ø¢Ù…Ù†Ø©</div>
    <div class="login-icon-big">ğŸ“</div>
    <h2>Ø¨ÙˆØ§Ø¨Ø© Ù…Ù„ÙØ§Øª Ø§Ù„Ø·Ù„Ø§Ø¨</h2>
    <p class="login-desc">
      Ø£Ø¯Ø®Ù„ Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ Ù„Ù„Ø·Ø§Ù„Ø¨ Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ù…Ù„ÙÙ‡ Ø§Ù„ÙƒØ§Ù…Ù„
    </p>
    <div class="input-label">ğŸ”‘ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ)</div>
    <input type="password" class="pin-input" id="pin-input" maxlength="4" placeholder="â€¢ â€¢ â€¢ â€¢" autocomplete="off" oninput="this.value=this.value.replace(/[^0-9]/g,'')" onkeydown="if(event.key==='Enter') checkPin()">
    <div class="error-msg" id="error-msg">âŒ Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¬Ø¯Ø¯Ø§Ù‹</div>
    <button class="login-btn" onclick="checkPin()">ğŸ”“ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</button>
    <div class="hint-box">
      ğŸ’¡ <strong>Ù„Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±:</strong> Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù‡Ùˆ Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ Ù„Ø§Ø¨Ù†ÙƒÙ…. ÙÙŠ Ø­Ø§Ù„ ÙˆØ¬ÙˆØ¯ Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± ØªÙˆØ§ØµÙ„ÙˆØ§ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ù…Ø®ØªØµ.
    </div>
  </div>
</div>

<!-- ============ PORTAL ============ -->
<div id="student-portal">

  <div class="portal-banner">
    <div class="student-identity">
      <div class="student-photo-wrap">
        <div class="student-photo" id="student-photo-circle" onclick="document.getElementById('photo-input').click()">
          <img id="student-photo-img" src="" alt="" style="display:none;">
          <span id="student-photo-emoji">ğŸ“</span>
        </div>
        <button class="photo-change-btn" onclick="document.getElementById('photo-input').click()" title="ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©">âœï¸</button>
        <input type="file" id="photo-input" class="photo-input" accept="image/*" onchange="uploadStudentPhoto(this)">
      </div>
      <div class="student-name-display" id="disp-name">â€”</div>
      <div class="student-meta-display">
        <span class="meta-chip" id="disp-grade">â€”</span>
        <span class="meta-chip">ğŸ“˜ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</span>
        <span class="meta-chip" id="disp-id">â€”</span>
      </div>
    </div>
    <button class="logout-btn" onclick="logout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
  </div>

  <div class="portal-body">

    <div class="tabs">
      <button class="tab-btn active" onclick="openTab('info',this)">ğŸ‘¤ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      <button class="tab-btn" onclick="openTab('reports',this)">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</button>
      <button class="tab-btn" onclick="openTab('plan',this)">ğŸ“‹ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©</button>
      <button class="tab-btn" onclick="openTab('iqrar',this)">âœï¸ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø±</button>
    </div>

    <!-- INFO -->
    <div class="tab-pane active" id="tab-info">
      <div class="s-card">
        <div class="s-card-head">ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</div>
        <table class="info-tbl" id="info-tbl"></table>
      </div>
    </div>

    <!-- REPORTS -->
    <div class="tab-pane" id="tab-reports">
      <div class="s-card">
        <div class="s-card-head">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„ÙˆØ«Ø§Ø¦Ù‚</div>
        <div id="reports-list"></div>
      </div>
    </div>

    <!-- PLAN -->
    <div class="tab-pane" id="tab-plan">
      <div class="s-card">
        <div class="s-card-head">ğŸ“‹ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„ÙØ±Ø¯ÙŠØ© â€” Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447Ù‡Ù€</div>
        <div style="padding:20px;" id="plan-pdfs"></div>
      </div>
    </div>

    <!-- IQRAR -->
    <div class="tab-pane" id="tab-iqrar">
      <div class="s-card">
        <div class="s-card-head">âœï¸ Ø¥Ù‚Ø±Ø§Ø± Ø§Ø·Ù„Ø§Ø¹ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©</div>
        <div style="padding:24px;" id="iqrar-content"></div>
      </div>
    </div>

  </div>
</div>

<!-- ============ ADMIN PORTAL ============ -->
<div id="admin-portal">
  <div class="admin-banner">
    <div style="display:flex;align-items:center;gap:14px;">
      <div style="width:46px;height:46px;border-radius:12px;background:rgba(200,151,58,0.2);border:1px solid rgba(200,151,58,0.35);display:flex;align-items:center;justify-content:center;font-size:1.4rem;">ğŸ”§</div>
      <div>
        <div style="color:#fff;font-family:'Tajawal',sans-serif;font-size:1.1rem;font-weight:900;">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø´Ø±Ù â€” Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ±</div>
        <div style="color:rgba(255,255,255,0.55);font-size:0.76rem;margin-top:2px;">Ù…Ø¯Ø±Ø³Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© | Ù‚Ø³Ù… Ø°ÙˆÙŠ Ø§Ù„Ø¥Ø¹Ø§Ù‚Ø©</div>
      </div>
    </div>
    <div style="display:flex;align-items:center;gap:12px;">
      <div class="admin-badge" id="admin-student-count">â€” Ø·Ø§Ù„Ø¨</div>
      <button class="logout-btn" onclick="adminLogout()">ğŸšª Ø®Ø±ÙˆØ¬</button>
    </div>
  </div>

  <div class="admin-body">

    <div class="admin-tabs">
      <button class="admin-tab-btn active" onclick="openAdminTab('list',this)">ğŸ‘¨â€ğŸ“ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</button>
      <button class="admin-tab-btn" onclick="openAdminTab('add',this)">â• Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨</button>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨ -->
    <div class="admin-tab-pane active" id="admin-tab-list">
      <div style="margin-bottom:14px;">
        <input type="text" class="form-input" id="admin-search" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø£Ùˆ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„..." oninput="renderStudentCards()" style="max-width:400px;">
      </div>
      <div class="students-grid" id="students-grid"></div>
    </div>

    <!-- Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ -->
    <div class="admin-tab-pane" id="admin-tab-add">
      <div class="s-card">
        <div class="s-card-head">â• Ø¥Ø¶Ø§ÙØ© Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</div>
        <div style="padding:24px;">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;">
            <div class="form-group">
              <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
              <input type="text" class="form-input" id="new-name" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ">
            </div>
            <div class="form-group">
              <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© *</label>
              <input type="text" class="form-input" id="new-id" placeholder="10 Ø£Ø±Ù‚Ø§Ù…" maxlength="10">
            </div>
            <div class="form-group">
              <label class="form-label">Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ *</label>
              <input type="text" class="form-input" id="new-grade" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ù…ØªÙˆØ³Ø· / 1">
            </div>
            <div class="form-group">
              <label class="form-label">Ø¬ÙˆØ§Ù„ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</label>
              <input type="text" class="form-input" id="new-phone" placeholder="05xxxxxxxx">
            </div>
          </div>
          <div class="form-group" style="margin-top:8px;">
            <label class="form-label">ğŸ’¡ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ø³ÙŠÙƒÙˆÙ† Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø³Ø¬Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)</label>
            <input type="text" class="form-input" id="new-pin-preview" placeholder="ÙŠÙØ­Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹" readonly style="background:#f9f9f9;color:var(--muted);">
          </div>
          <button class="btn-save" onclick="addNewStudent()" style="margin-top:8px;">âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ù„Ø¨</button>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- EDIT MODAL -->
<div class="modal-overlay" id="edit-modal">
  <div class="modal-box">
    <div class="modal-title" id="modal-title">âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨</div>

    <!-- ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ -->
    <div style="display:flex;gap:4px;background:#f5f2eb;border-radius:10px;padding:4px;margin-bottom:20px;">
      <button class="admin-tab-btn active" onclick="openEditTab('basic',this)" style="font-size:0.78rem;padding:7px 4px;">ğŸ‘¤ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      <button class="admin-tab-btn" onclick="openEditTab('plan',this)" style="font-size:0.78rem;padding:7px 4px;">ğŸ“‹ Ø§Ù„Ø®Ø·Ø©</button>
      <button class="admin-tab-btn" onclick="openEditTab('followup',this)" style="font-size:0.78rem;padding:7px 4px;">ğŸ“Š Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©</button>
    </div>

    <!-- Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
    <div id="edit-tab-basic">
      <div class="form-group">
        <label class="form-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</label>
        <input type="text" class="form-input" id="edit-name">
      </div>
      <div class="form-group">
        <label class="form-label">Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</label>
        <input type="text" class="form-input" id="edit-grade">
      </div>
      <div class="form-group">
        <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
        <input type="text" class="form-input" id="edit-id">
      </div>
      <div class="form-group">
        <label class="form-label">Ø¬ÙˆØ§Ù„ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</label>
        <input type="text" class="form-input" id="edit-phone">
      </div>
    </div>

    <!-- Ø§Ù„Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© -->
    <div id="edit-tab-plan" style="display:none;">
      <div id="plan-goals-editor"></div>
      <button class="btn-add-goal" onclick="addGoalRow()">+ Ø¥Ø¶Ø§ÙØ© Ù‡Ø¯Ù Ø¬Ø¯ÙŠØ¯</button>
    </div>

    <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© -->
    <div id="edit-tab-followup" style="display:none;">
      <div style="font-size:0.78rem;color:var(--muted);margin-bottom:10px;background:#f0faf5;padding:10px;border-radius:8px;">
        âœ“ = Ø­Ù‚Ù‚ &nbsp;|&nbsp; ~ = Ø¬Ø²Ø¦ÙŠØ§Ù‹ &nbsp;|&nbsp; âœ— = Ù„Ù… ÙŠØ­Ù‚Ù‚
      </div>
      <div style="display:grid;grid-template-columns:2fr 1fr 1fr 1fr 1fr 1fr 28px;gap:6px;margin-bottom:8px;">
        <div style="font-size:0.75rem;font-weight:700;color:var(--muted);text-align:center;">Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</div>
        <div style="font-size:0.75rem;font-weight:700;color:var(--muted);text-align:center;">Ù…Ù¡</div>
        <div style="font-size:0.75rem;font-weight:700;color:var(--muted);text-align:center;">Ù…Ù¢</div>
        <div style="font-size:0.75rem;font-weight:700;color:var(--muted);text-align:center;">Ù…Ù£</div>
        <div style="font-size:0.75rem;font-weight:700;color:var(--muted);text-align:center;">Ù…Ù¤</div>
        <div style="font-size:0.75rem;font-weight:700;color:var(--muted);text-align:center;">Ù…Ù¥</div>
        <div></div>
      </div>
      <div id="followup-editor"></div>
      <button class="btn-add-goal" onclick="addFollowupRow()">+ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©</button>
    </div>

    <div class="form-actions">
      <button class="btn-delete-student" onclick="deleteStudent()">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨</button>
      <button class="btn-cancel" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
      <button class="btn-save" onclick="saveStudentEdits()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
    </div>
  </div>
</div>

<!-- Toast -->
<div class="success-toast" id="success-toast">âœ… ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­</div>

<script>
// =====================================================
// Supabase Config
// =====================================================
const SUPABASE_URL = "https://pyrxwqgapwjwhiskowhk.supabase.co";
const ADMIN_PIN = "1129"; // Ø±Ù…Ø² Ø§Ù„Ù…Ø´Ø±Ù
const SUPABASE_KEY = "sb_publishable_bfe-B4f-Rag1SR0-PoIb9w_nMfA1Ere";

async function sbSaveSignature(pin, name, grade, signData) {
  try {
    await fetch(SUPABASE_URL + '/rest/v1/signatures', {
      method: 'POST',
      headers: {
        'apikey': SUPABASE_KEY,
        'Authorization': 'Bearer ' + SUPABASE_KEY,
        'Content-Type': 'application/json',
        'Prefer': 'return=minimal'
      },
      body: JSON.stringify({
        student_pin: pin,
        student_name: name,
        grade: grade,
        signature_data: signData
      })
    });
    console.log('âœ… Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø­ÙÙØ¸ ÙÙŠ Supabase');
  } catch(e) {
    console.error('Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹:', e);
  }
}

// =====================================================
// Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨ â€” Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ±
// Ø§Ù„Ø±Ù…Ø² = Ø¢Ø®Ø± 4 Ø£Ø±Ù‚Ø§Ù… Ù…Ù† Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ
// =====================================================
const BASE_URL = "https://makkah-special.github.io/";

const STUDENTS = {
  // Ù…Ù¡ â€” Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ ØºØ±Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ù…Ø±Ø§Ù†ÙŠ
  "5271": {
    name: "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ ØºØ±Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ù…Ø±Ø§Ù†ÙŠ",
    id_full: "1160545271",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ / Ù¡",
    phone: "0504238557",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø©", desc: "ØªØ­Ø³ÙŠÙ† Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ© ÙˆØ§Ù„ØµØ§Ù…ØªØ© ÙˆØªÙ…ÙŠÙŠØ² Ø§Ù„Ø­Ø±ÙˆÙ ÙˆØ§Ù„ÙƒÙ„Ù…Ø§Øª", color: "#7c3aed" },
      { title: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", desc: "Ø¥ØªÙ‚Ø§Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„ÙØ¸ÙŠØ© Ø§Ù„Ø¨Ø³ÙŠØ·Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ²", desc: "ØªØ¹Ø²ÙŠØ² Ù…Ø¯Ø© Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø®Ù„Ø§Ù„ Ø§Ù„Ø­ØµØµ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù†Ø´Ø·Ø© ØªÙØ§Ø¹Ù„ÙŠØ©", color: "#c8973a" },
      { title: "Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ©", desc: "Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ÙØµÙ„ ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆØ§Ù„Ø²Ù…Ù„Ø§Ø¡", color: "#2563a8" },
    ],
    reports: [
    ],
    followup: [
      { skill: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ©",   m1:"âœ“", m2:"âœ“", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©",  m1:"âœ“", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø·Ø±Ø­",      m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡",          m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"~" },
    ]
  },

  // Ù…Ù¢ â€” Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù‚Ø§Ø¦Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ù‡Ø±Ø§Ù†ÙŠ
  "3955": {
    name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù‚Ø§Ø¦Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø´Ù‡Ø±Ø§Ù†ÙŠ",
    id_full: "1162923955",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ / Ù¡",
    phone: "0581399371",
    plan: [
      { title: "Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©", desc: "ØªØ¹Ø²ÙŠØ² ÙÙ‡Ù… Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡ ÙˆØ§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…Ø±Ø­Ù„Ø©", color: "#7c3aed" },
      { title: "Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ø®Ø·", desc: "ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙˆØ§Ù„ØªØ¯Ø±Ø¨ Ø¹Ù„Ù‰ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©", desc: "ØªØ·Ø¨ÙŠÙ‚ Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø¶Ø±Ø¨ ÙˆØ§Ù„Ù‚Ø³Ù…Ø© ÙÙŠ Ù…Ø³Ø§Ø¦Ù„ Ø­ÙŠØ§ØªÙŠØ©", color: "#c8973a" },
      { title: "Ø§Ù„Ø§Ù†ØªÙ…Ø§Ø¡ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ", desc: "ØªÙ†Ù…ÙŠØ© Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø£Ù‚Ø±Ø§Ù†", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£ÙˆÙ„ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "ØªÙ‚Ø±ÙŠØ± Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", date: "ØµÙØ± 1447", icon: "ğŸ“Š", bg: "#d1fae5", tag: "Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", tagClass: "tag-green" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙƒÙŠÙ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ¤", bg: "#dbeafe", tag: "Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "ÙÙ‡Ù… Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡",        m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡",            m1:"~", m2:"âœ“", m3:"âœ“", m4:"~", m5:"âœ“" },
      { skill: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª",          m1:"âœ“", m2:"âœ“", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ",  m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù£ â€” Ø¨Ø³Ø§Ù… Ø®Ø§Ù„Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ
  "3154": {
    name: "Ø¨Ø³Ø§Ù… Ø®Ø§Ù„Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ",
    id_full: "1159883154",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ / Ù¡",
    phone: "0550722772",
    plan: [
      { title: "Ø§Ù„ØªÙ‡Ø¬Ø¦Ø© ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø©", desc: "ØªØ¹Ù„Ù… ØªÙ‡Ø¬Ø¦Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØµØ¹Ø¨Ø© ÙˆØªØ­Ø³ÙŠÙ† Ø³Ù„Ø§Ø³Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©", color: "#7c3aed" },
      { title: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ©", desc: "ØªØ´Ø¬ÙŠØ¹ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¬Ù…Ù„ ÙˆØ§Ù„ÙÙ‚Ø±Ø§Øª Ø§Ù„Ù‚ØµÙŠØ±Ø© Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø´Ø®ØµÙŠ", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨", desc: "ØªØ¹Ø²ÙŠØ² Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ø¹Ø¯Ø¯ÙŠ ÙˆØ­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© Ø§Ù„Ø¨Ø³ÙŠØ·Ø©", color: "#c8973a" },
      { title: "Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© Ø§Ù„Ø°Ø§ØªÙŠØ©", desc: "ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù†ÙØ³ ÙÙŠ Ø¥ØªÙ…Ø§Ù… Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ù‡Ø§Ù…", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#fef3c7", tag: "ØªØ´Ø®ÙŠØµÙŠ", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“ˆ", bg: "#d1fae5", tag: "Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "Ø§Ù„ØªÙ‡Ø¬Ø¦Ø©",            m1:"âœ“", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ÙƒØªØ§Ø¨Ø©",            m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø­Ø³Ø§Ø¨",             m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"~", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ©",        m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¤ â€” ÙˆØ³Ø§Ù… Ø¹ÙˆØ¶ Ø¨Ù† Ø´ÙŠÙ†Ø§Ù† Ø§Ù„Ø³Ù‡ÙŠÙ…ÙŠ
  "3493": {
    name: "ÙˆØ³Ø§Ù… Ø¹ÙˆØ¶ Ø¨Ù† Ø´ÙŠÙ†Ø§Ù† Ø§Ù„Ø³Ù‡ÙŠÙ…ÙŠ",
    id_full: "1159133493",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹ / Ù¡",
    phone: "0503331230",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©", desc: "ØªÙ†Ù…ÙŠØ© Ù…Ù‡Ø§Ø±Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ø³ØªØ®Ù„Ø§Øµ Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨ÙŠ", desc: "ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø© Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù† Ø§Ù„Ø£ÙÙƒØ§Ø± ÙƒØªØ§Ø¨ÙŠØ§Ù‹ Ø¨Ø¬Ù…Ù„ Ù…ØªÙƒØ§Ù…Ù„Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©", desc: "Ø¥ØªÙ‚Ø§Ù† Ø§Ù„Ø¶Ø±Ø¨ ÙˆØ§Ù„Ù‚Ø³Ù…Ø© ÙˆØªØ·Ø¨ÙŠÙ‚Ù‡Ù…Ø§ ÙÙŠ Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„", color: "#c8973a" },
      { title: "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©", desc: "ØªØ¹Ù„Ù… ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙˆÙ‚Øª ÙˆØªØ±ØªÙŠØ¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ù…Ø·Ù„Ø¹ Ø§Ù„ÙØµÙ„", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙƒÙØ§Ø¡Ø§Øª Ø§Ù„Ù„ØºÙˆÙŠØ©", date: "ØµÙØ± 1447", icon: "ğŸ“–", bg: "#dbeafe", tag: "Ù„ØºÙˆÙŠ", tagClass: "tag-blue" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", icon: "ğŸ“Š", bg: "#d1fae5", tag: "Ø´Ø§Ù…Ù„", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©",  m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"~" },
      { skill: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨ÙŠ",    m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¶Ø±Ø¨ ÙˆØ§Ù„Ù‚Ø³Ù…Ø©",      m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙˆÙ‚Øª",        m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¥ â€” Ø­Ø³Ù† ØµØ§Ù„Ø­ Ø­Ø³Ù† Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ
  "9055": {
    name: "Ø­Ø³Ù† ØµØ§Ù„Ø­ Ø­Ø³Ù† Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ",
    id_full: "1157129055",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ / Ù¡",
    phone: "0535861575",
    plan: [
      { title: "Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø§Ø¦ÙŠ", desc: "Ø§Ø³ØªÙŠØ¹Ø§Ø¨ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø·ÙˆÙŠÙ„Ø© ÙˆØªÙ„Ø®ÙŠØµÙ‡Ø§ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø·Ø§Ù„Ø¨", color: "#7c3aed" },
      { title: "Ø§Ù„ØªÙ‡Ø¬Ø¦Ø© ÙˆØ§Ù„Ù…ÙØ±Ø¯Ø§Øª", desc: "ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ø§Ù„Ù„ØºÙˆÙŠØ© ÙˆØ¶Ø¨Ø· Ø¥Ù…Ù„Ø§Ø¡ Ø§Ù„ÙƒÙ„Ù…Ø§Øª", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø¬Ø¨Ø± Ø§Ù„Ù…Ø¨Ø³Ø·", desc: "Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ÙˆØ­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©", color: "#c8973a" },
      { title: "Ø§Ù„Ø«Ù‚Ø© Ø¨Ø§Ù„Ù†ÙØ³", desc: "ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø«Ù‚Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙÙŠØ© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙØµÙ„ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“ˆ", bg: "#d1fae5", tag: "Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø§Ø¦ÙŠ",      m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª",           m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¬Ø¨Ø±",              m1:"âœ—", m2:"~", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙÙŠØ©",    m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¦ â€” Ø¥ÙŠØ§Ø¯ Ø®Ù„ÙŠÙ„ Ø·Ø§Ù‡Ø± Ù…ØµØ·ÙÙ‰
  "0962": {
    name: "Ø¥ÙŠØ§Ø¯ Ø®Ù„ÙŠÙ„ Ø·Ø§Ù‡Ø± Ù…ØµØ·ÙÙ‰",
    id_full: "2370790962",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ù…ØªÙˆØ³Ø· / 6",
    phone: "0554718103",
    plan: [
      { title: "Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", desc: "ØªØ¹Ø²ÙŠØ² Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø´ÙÙ‡ÙŠ", color: "#7c3aed" },
      { title: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", desc: "Ø¥ØªÙ‚Ø§Ù† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ ÙˆØ§Ù„ØªØ±ÙƒÙŠØ²", desc: "ØªØ¹Ø²ÙŠØ² Ù…Ø¯Ø© Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ Ø®Ù„Ø§Ù„ Ø§Ù„Ø­ØµØµ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©", color: "#c8973a" },
      { title: "Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ©", desc: "Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ÙØµÙ„ ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…", color: "#2563a8" },
    ],
    reports: [],
    followup: []
  },

  // Ù…Ù§ â€” Ù…Ø­Ù…Ø¯ Ø¹Ù…Ø± Ù…Ø­Ù…Ø¯ Ø¨Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø­Ø±Ø§Ø²ÙŠ
  "4073": {
    name: "Ù…Ø­Ù…Ø¯ Ø¹Ù…Ø± Ù…Ø­Ù…Ø¯ Ø¨Ù„Ù‚Ø§Ø³Ù… Ø§Ù„Ø­Ø±Ø§Ø²ÙŠ",
    id_full: "1155964073",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ / Ù¢",
    phone: "0580809440",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµØ§Ù…ØªØ©", desc: "ØªÙ†Ù…ÙŠØ© Ø¹Ø§Ø¯Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµØ§Ù…ØªØ© ÙˆÙÙ‡Ù… Ø§Ù„Ø£ÙÙƒØ§Ø± Ø§Ù„Ø¶Ù…Ù†ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©", desc: "ÙƒØªØ§Ø¨Ø© Ø±Ø³Ø§Ø¦Ù„ ÙˆÙ†Ù…Ø§Ø°Ø¬ Ø¨Ø³ÙŠØ·Ø© Ø¨Ù„ØºØ© Ø¹Ø±Ø¨ÙŠØ© Ø³Ù„ÙŠÙ…Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„Ø°Ù‡Ù†ÙŠØ©", desc: "ØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø°Ù‡Ù†ÙŠ ÙˆØ­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„ÙØ¸ÙŠØ©", color: "#c8973a" },
      { title: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ù†ÙØ¹Ø§Ù„Ø§Øª", desc: "ØªØ¹Ù„Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø¶Ø¨Ø· Ø§Ù„Ù†ÙØ³ ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡ ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø¶Ø§ØºØ·Ø©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ¯Ø®Ù„", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ¯", bg: "#fef3c7", tag: "ØªØ¯Ø®Ù„ Ù…Ø¨ÙƒØ±", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø´Ù‡Ø±ÙŠ", date: "ØµÙØ± 1447", icon: "ğŸ“Š", bg: "#d1fae5", tag: "Ù…ØªØ§Ø¨Ø¹Ø©", tagClass: "tag-green" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø³Ù„ÙˆÙƒ", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“", bg: "#dbeafe", tag: "Ø³Ù„ÙˆÙƒÙŠ", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØµØ§Ù…ØªØ©",    m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©",   m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø°Ù‡Ù†ÙŠ",      m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø¶Ø¨Ø· Ø§Ù„Ø§Ù†ÙØ¹Ø§Ù„Ø§Øª",     m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù§
  "0788": {
    name: "Ø£Ù…Ø¬Ø¯ Ù…Ø±Ø²ÙˆÙ‚ Ø¹Ù„ÙŠ Ø§Ù„Ù…Ø­ÙˆØ±ÙŠ",
    id_full: "1162340788",  // Ø¢Ø®Ø± 4: 0788 â† Ù„ÙƒÙ† Ø§Ù„ØµÙˆØ±Ø© ØªÙØ¸Ù‡Ø± 7488 â† Ù†Ø³ØªØ®Ø¯Ù… ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù†ÙŠ / Ù¢",
    phone: "0549267727",
    plan: [
      { title: "Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙˆØ§Ù„ØªØ­Ø¯Ø«", desc: "ØªØ·ÙˆÙŠØ± Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø§Ù„ÙØ¹Ù‘Ø§Ù„ ÙˆØ§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø´ÙÙ‡ÙŠ Ø§Ù„ÙˆØ§Ø¶Ø­", color: "#7c3aed" },
      { title: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¥Ù…Ù„Ø§Ø¦ÙŠØ©", desc: "Ø¶Ø¨Ø· Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¥Ù…Ù„Ø§Ø¦ÙŠØ© ÙˆØ®Ø§ØµØ© Ø§Ù„ØªØ§Ø¡ Ø§Ù„Ù…Ø±Ø¨ÙˆØ·Ø© ÙˆØ§Ù„Ù…ÙØªÙˆØ­Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ù‚ÙŠØ§Ø³ ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø©", desc: "Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØªØ·Ø¨ÙŠÙ‚ Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ù‚ÙŠØ§Ø³", color: "#c8973a" },
      { title: "Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ", desc: "Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„ØªØ¹Ø§ÙˆÙ†ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", date: "ØµÙØ± 1447", icon: "ğŸ“–", bg: "#dbeafe", tag: "Ù„ØºÙˆÙŠ", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹",           m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡",            m1:"~", m2:"âœ“", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©",            m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ",      m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¨
  "8726": {
    name: "Ù…Ø±Ø§Ø¯ Ø¹Ù„ÙŠ Ø¸Ù„Ù…ÙŠØ³ Ø§Ù„Ù…Ù†ØªØ´Ø±ÙŠ",
    id_full: "1157548726",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹ / Ù¢",
    phone: "0558053500",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ©", desc: "ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø·Ù„Ø§Ù‚Ø© ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø¬Ù‡Ø±ÙŠ Ø¹Ù†Ø¯ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†ØµÙˆØµ", color: "#7c3aed" },
      { title: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨ÙŠ", desc: "ØªÙƒÙˆÙŠÙ† ÙÙ‚Ø±Ø§Øª Ù…ØªØ³Ù‚Ø© Ø­ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù…Ø£Ù„ÙˆÙØ©", color: "#1a6b4a" },
      { title: "Ø§Ù„ÙƒØ³ÙˆØ± ÙˆØ§Ù„Ù†Ø³Ø¨", desc: "ÙÙ‡Ù… Ù…ÙÙ‡ÙˆÙ… Ø§Ù„ÙƒØ³ÙˆØ± ÙˆØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ ÙÙŠ Ù…Ø³Ø§Ø¦Ù„ ÙŠÙˆÙ…ÙŠØ©", color: "#c8973a" },
      { title: "ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø°Ø§Øª", desc: "ØªØ¹Ø²ÙŠØ² Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ø­Ø³Ø§Ø³ Ø¨Ø§Ù„ÙƒÙØ§Ø¡Ø©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ù…Ø·Ù„Ø¹ Ø§Ù„ÙØµÙ„", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#fef3c7", tag: "ØªØ´Ø®ÙŠØµÙŠ", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“ˆ", bg: "#d1fae5", tag: "Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", tagClass: "tag-green" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", icon: "ğŸ“Š", bg: "#dbeafe", tag: "Ø´Ø§Ù…Ù„", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¬Ù‡Ø±ÙŠØ©",    m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨ÙŠ",    m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ÙƒØ³ÙˆØ±",             m1:"âœ—", m2:"âœ—", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø°Ø§Øª",        m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù©
  "2261": {
    name: "ÙÙŠØµÙ„ Ø­Ø§ØªÙ… Ø­Ø§Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ",
    id_full: "1157172261",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹ / Ù¢",
    phone: "0500346184",
    plan: [
      { title: "Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø­Ø«", desc: "ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØªÙ†Ø¸ÙŠÙ…Ù‡Ø§ Ù…Ù† Ù…ØµØ§Ø¯Ø± Ù…ØªÙ†ÙˆØ¹Ø©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªÙ„Ø®ÙŠØµ ÙˆØ§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨", desc: "ØªÙ„Ø®ÙŠØµ Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ù…Ù‚Ø§Ø·Ø¹ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø© Ø¨ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨", color: "#1a6b4a" },
      { title: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©", desc: "Ø­Ù„ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…Ù† Ù…ØªØºÙŠØ± ÙˆØ§Ø­Ø¯ ÙÙŠ Ø³ÙŠØ§Ù‚ Ø¹Ù…Ù„ÙŠ", color: "#c8973a" },
      { title: "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯", desc: "Ø§Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙˆØ§Ù„Ø±Ø£ÙŠ ÙˆØ·Ø±Ø­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙƒÙØ§ÙŠØ§Øª", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ†", bg: "#d1fae5", tag: "ØªÙ‚ÙŠÙŠÙ…ÙŠ", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ…",     m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªÙ„Ø®ÙŠØµ",            m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª",          m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ù†Ø§Ù‚Ø¯",     m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù 
  "9446": {
    name: "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† ØªÙˆÙÙŠÙ‚ Ø¹Ù„ÙˆØ§Ù† Ù…Ù‚Ø±ÙŠ",
    id_full: "1149869446",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø®Ø§Ù…Ø³ / Ù¢",
    phone: "0507131979",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©", desc: "ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡ ÙˆØ§Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ ÙˆØ§Ù„Ù…Ø¶Ù…ÙˆÙ†", color: "#7c3aed" },
      { title: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…ÙˆØ¬Ù‘Ù‡Ø©", desc: "ÙƒØªØ§Ø¨Ø© Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ø¨Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„ØºØ©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø¥Ø­ØµØ§Ø¡ ÙˆØ§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", desc: "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© ÙˆØªÙØ³ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬", color: "#c8973a" },
      { title: "Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©", desc: "Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø¨Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙ‚Øª Ø¨ÙØ§Ø¹Ù„ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“Š", bg: "#d1fae5", tag: "Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", tagClass: "tag-green" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù„ØºÙˆÙŠØ©", date: "ØµÙØ± 1447", icon: "ğŸ“–", bg: "#dbeafe", tag: "Ù„ØºÙˆÙŠ", tagClass: "tag-blue" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø´Ø§Ù…Ù„", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", icon: "ğŸ“‹", bg: "#ede9fe", tag: "Ø´Ø§Ù…Ù„", tagClass: "tag-purple" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©",    m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…ÙˆØ¬Ù‡Ø©",    m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¥Ø­ØµØ§Ø¡",            m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ÙŠØ©",        m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù¡
  "7895": {
    name: "Ù…Ø­Ù…Ø¯ ÙØ§Ø±Ø³ ØµØ§Ù„Ø­ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ",
    id_full: "1156607895",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù† / Ù¢",
    phone: "0507728100",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªØ­ØµÙŠÙ„ÙŠØ©", desc: "ØªØ­Ø¶ÙŠØ± Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…Ù‚Ø±Ø±Ø© ÙˆÙÙ‡Ù…Ù‡Ø§ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙØµÙ„ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø¯Ø¨ÙŠ", desc: "ÙƒØªØ§Ø¨Ø© Ù…ÙˆØ¶ÙˆØ¹Ø§Øª ØªØ¹Ø¨ÙŠØ±ÙŠØ© Ù…Ù† ÙˆØ§Ù‚Ø¹ Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨", color: "#1a6b4a" },
      { title: "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„ÙŠØ©", desc: "ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© ÙÙŠ Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙØ±Ø§ØºÙŠ", color: "#c8973a" },
      { title: "Ø§Ù„ØªØ®Ø·ÙŠØ· Ø§Ù„Ø´Ø®ØµÙŠ", desc: "ÙˆØ¶Ø¹ Ø®Ø·Ø© Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ¥ØªÙ…Ø§Ù… Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„Ù…Ø¯Ø±Ø³ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ÙØµÙ„", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª", date: "ØµÙØ± 1447", icon: "ğŸ“", bg: "#fef3c7", tag: "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“–", bg: "#dbeafe", tag: "Ù„ØºÙˆÙŠ", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "Ø§Ù„ØªØ­Ø¶ÙŠØ± Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±",   m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡",            m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©",            m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªØ®Ø·ÙŠØ·",            m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù¢ â€” ÙˆØ³ÙŠÙ… Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø§Ù„Ø±Ø²Ù‚ÙŠ (Ø§Ù†ØªØ³Ø§Ø¨)
  "5362": {
    name: "ÙˆØ³ÙŠÙ… Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø§Ù„Ø±Ø²Ù‚ÙŠ",
    id_full: "1163695362",  // Ø¢Ø®Ø± 4 Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© â†’ 0372
    grade: "Ø§Ù†ØªØ³Ø§Ø¨",
    phone: "0531503194",
    plan: [
      { title: "Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨ÙØ¹Ø¯", desc: "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯ÙˆØ±ÙŠ", desc: "Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆÙÙ‚ ØªØ±ØªÙŠØ¨Ø§Øª Ø§Ù„Ø§Ù†ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…", desc: "Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù† Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª", color: "#c8973a" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø·Ø§Ù„Ø¨ Ø§Ù„Ø§Ù†ØªØ³Ø§Ø¨", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#f3f4f6", tag: "Ø§Ù†ØªØ³Ø§Ø¨", tagClass: "tag-gray" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", m1:"âœ“", m2:"âœ“", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª",           m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"~" },
    ]
  },

  // Ù…Ù¡Ù£
  "2571": {
    name: "ÙØ§Ø±Ø³ Ù…Ø­Ù…Ø¯ Ù…Ø§Ù†Ø¹ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ",
    id_full: "1147982571",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ / Ù£",
    phone: "0555089728",
    plan: [
      { title: "ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©", desc: "Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙˆÙ ÙˆØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹ ÙˆÙ‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©", color: "#7c3aed" },
      { title: "Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©", desc: "Ø±Ø³Ù… Ø§Ù„Ø­Ø±ÙˆÙ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ÙƒØªØ§Ø¨Ø© Ø¨Ø§Ù„ÙƒÙ„Ù…Ø§Øª", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠØ©", desc: "Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ù…Ù† Ù¡ Ø¥Ù„Ù‰ Ù¡Ù Ù  ÙˆØ§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©", color: "#c8973a" },
      { title: "Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ Ù„Ù„ØªØ¹Ù„Ù…", desc: "ØªÙ†Ù…ÙŠØ© Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡ ÙˆØ§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬Ø³Ø¯ÙŠ ÙˆØ§Ù„Ø°Ù‡Ù†ÙŠ Ù„Ù„Ø¯Ø±Ø§Ø³Ø©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ´Ø®ÙŠØµ Ø§Ù„Ø£ÙˆÙ„ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ”", bg: "#fef3c7", tag: "ØªØ´Ø®ÙŠØµÙŠ", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø£ÙˆÙ„", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“ˆ", bg: "#d1fae5", tag: "ØªÙ‚Ø¯Ù…", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©",      m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ÙƒØªØ§Ø¨Ø©",            m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯",            m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ù†ØªØ¨Ø§Ù‡",           m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù¤
  "3590": {
    name: "Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø­Ø§Ù…Ø¯ Ø§Ù„Ù‡Ù„Ø§Ù„ÙŠ",
    id_full: "1132173590",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ / Ù£",
    phone: "0503769788",
    plan: [
      { title: "Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙÙ‡Ù…", desc: "ÙÙ‡Ù… Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù‚ØµÙŠØ±Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù† Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨", color: "#7c3aed" },
      { title: "Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡", desc: "Ø­ÙØ¸ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù‡Ù…Ø²Ø© ÙˆØ§Ù„ØªÙ†ÙˆÙŠÙ† ÙˆØªØ·Ø¨ÙŠÙ‚Ù‡Ø§ ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø·Ø±Ø­", desc: "ØªØ¹Ø²ÙŠØ² Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø·Ø±Ø­ Ù„Ù„Ø£Ø¹Ø¯Ø§Ø¯ Ø­ØªÙ‰ Ø§Ù„Ù…Ø¦Ø©", color: "#c8973a" },
      { title: "Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙÙŠØ©", desc: "ØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ§Ù„ØªØ³Ø§Ø¤Ù„ Ø£Ù…Ø§Ù… Ø§Ù„Ø²Ù…Ù„Ø§Ø¡", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø´Ø§Ù…Ù„", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", icon: "ğŸ“Š", bg: "#d1fae5", tag: "Ø´Ø§Ù…Ù„", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø§Ø¦ÙŠ",      m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¥Ù…Ù„Ø§Ø¡",            m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø·Ø±Ø­",       m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©",           m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù¥
  "8151": {
    name: "Ù…Ø³ÙØ± Ø­Ø³Ù† Ø³Ø¹Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ",
    id_full: "1156188151",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« / Ù£",
    phone: "0555508388",
    plan: [
      { title: "Ø§Ù„ØªÙ‡Ø¬Ø¦Ø© ÙˆØ§Ù„Ù†Ø·Ù‚", desc: "ØªØµØ­ÙŠØ­ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù†Ø·Ù‚ ÙˆØ§Ù„ØªÙ‡Ø¬Ø¦Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ù†Ø´Ø·Ø© Ø­Ø±ÙƒÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø´ÙÙ‡ÙŠ", desc: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø¨Ø¬Ù…Ù„ ÙƒØ§Ù…Ù„Ø© Ø¹Ù† Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ÙŠÙˆÙ…ÙŠØ©", color: "#1a6b4a" },
      { title: "Ø§Ù„Ø¶Ø±Ø¨ ÙˆØ§Ù„Ù‚Ø³Ù…Ø©", desc: "Ø­ÙØ¸ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¶Ø±Ø¨ ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ Ø£Ø¹Ø¯Ø§Ø¯ ØµØºÙŠØ±Ø©", color: "#c8973a" },
      { title: "Ø§Ù„Ø¶Ø¨Ø· Ø§Ù„Ø§Ù†ÙØ¹Ø§Ù„ÙŠ", desc: "ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ†ÙØ³ ÙˆØ§Ù„Ù‡Ø¯ÙˆØ¡ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ø­Ø¨Ø§Ø· Ø£Ùˆ Ø§Ù„Ø¶ØºØ·", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ù…Ø·Ù„Ø¹ Ø§Ù„ÙØµÙ„", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#fef3c7", tag: "ØªØ´Ø®ÙŠØµÙŠ", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", date: "ØµÙØ± 1447", icon: "ğŸ“ˆ", bg: "#d1fae5", tag: "Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ", tagClass: "tag-green" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø³Ù„ÙˆÙƒ", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1447", icon: "ğŸ“", bg: "#dbeafe", tag: "Ø³Ù„ÙˆÙƒÙŠ", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "Ø§Ù„ØªÙ‡Ø¬Ø¦Ø©",            m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø´ÙÙ‡ÙŠ",     m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¶Ø±Ø¨",              m1:"âœ—", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¶Ø¨Ø· Ø§Ù„Ø§Ù†ÙØ¹Ø§Ù„ÙŠ",    m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù¦
  "8061": {
    name: "Ù‡ØªØ§Ù† Ø¹Ø¨ÙŠØ¯Ø§Ù„Ù„Ù‡ Ø¬Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ù…Ø§Ø¯ÙŠ",
    id_full: "1154848061",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« / Ù£",
    phone: "0531867005",
    plan: [
      { title: "Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ ÙˆØ§Ù„Ù…ÙØ±Ø¯Ø§Øª", desc: "ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª Ø§Ù„Ù„ØºÙˆÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ù†ØµÙˆØµ Ù…Ø³Ù…ÙˆØ¹Ø© Ù…ØªÙ†ÙˆØ¹Ø©", color: "#7c3aed" },
      { title: "Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ", desc: "ØªØ¬ÙˆÙŠØ¯ Ø§Ù„Ø®Ø· Ø§Ù„Ù†Ø³Ø®ÙŠ ÙˆØ§Ù„Ø±Ù‚Ø¹ÙŠ Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„Ø§ØªØ³Ø§Ù‚", color: "#1a6b4a" },
      { title: "Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„ÙØ¸ÙŠØ©", desc: "ØªØ±Ø¬Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„ÙØ¸ÙŠØ© Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø­Ø³Ø§Ø¨ÙŠØ© ÙˆØ­Ù„Ù‡Ø§ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©", color: "#c8973a" },
      { title: "Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ­Ù„ Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª", desc: "ØªØ¹Ù„Ù… Ø£Ø³Ø§Ù„ÙŠØ¨ Ø­Ù„ Ø§Ù„Ø®Ù„Ø§ÙØ§Øª Ù…Ø¹ Ø§Ù„Ø£Ù‚Ø±Ø§Ù† Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø³Ù„Ù…ÙŠØ©", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“„", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø®Ø· ÙˆØ§Ù„Ø¥Ù…Ù„Ø§Ø¡", date: "ØµÙØ± 1447", icon: "âœï¸", bg: "#dbeafe", tag: "Ù„ØºÙˆÙŠ", tagClass: "tag-blue" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù…ÙØ±Ø¯Ø§Øª",           m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø®Ø·",               m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù„ÙØ¸ÙŠØ©",    m1:"âœ—", m2:"~", m3:"~", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø­Ù„ Ø§Ù„Ù†Ø²Ø§Ø¹Ø§Øª",        m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù§
  "5455": {
    name: "Ø·Ù„Ø§Ù„ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø¹ØµÙ…Ø§Ù†ÙŠ",
    id_full: "1144795455",
    grade: "Ø§Ù„ØµÙ Ø§Ù„Ø±Ø§Ø¨Ø¹ / Ù£",
    phone: "0533005277",
    plan: [
      { title: "Ø§Ù„ØªÙ„Ø®ÙŠØµ ÙˆØ§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨", desc: "ØªÙ„Ø®ÙŠØµ Ø§Ù„Ø¯Ø±ÙˆØ³ Ø¨Ø¹Ø¯ ÙƒÙ„ Ø­ØµØ© ÙˆÙƒØªØ§Ø¨Ø© Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…", desc: "ÙƒØªØ§Ø¨Ø© Ù…Ù‚Ø§Ù„Ø§Øª Ù‚ØµÙŠØ±Ø© Ø¨Ù…Ù‚Ø¯Ù…Ø© ÙˆØ¹Ø±Ø¶ ÙˆØ®Ø§ØªÙ…Ø© Ù…ØªÙƒØ§Ù…Ù„Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„ØªÙˆØ³Ø¹Ø§Øª Ø§Ù„Ø¬Ø¨Ø±ÙŠØ©", desc: "Ø­Ù„ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…Ù† Ù…ØªØºÙŠØ±ÙŠÙ† ÙˆØªØ·Ø¨ÙŠÙ‚ Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„ØªÙˆØ²ÙŠØ¹", color: "#c8973a" },
      { title: "Ø§Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©", desc: "Ø£Ø®Ø° Ø¯ÙˆØ± Ø§Ù„Ù‚Ø§Ø¦Ø¯ ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØªØ­Ù…Ù„ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ù…Ù‡Ø§Ù…", color: "#2563a8" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙØµÙ„ÙŠ", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#ede9fe", tag: "Ø¯ÙˆØ±ÙŠ", tagClass: "tag-purple" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©", date: "ØµÙØ± 1447", icon: "ğŸ“", bg: "#fef3c7", tag: "Ø±ÙŠØ§Ø¶ÙŠØ§Øª", tagClass: "tag-yellow" },
      { title: "ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù‚ÙŠØ§Ø¯ÙŠØ©", date: "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", icon: "ğŸ†", bg: "#d1fae5", tag: "Ù…Ù‡Ø§Ø±Ø§Øª", tagClass: "tag-green" },
    ],
    followup: [
      { skill: "Ø§Ù„ØªÙ„Ø®ÙŠØµ",            m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„ÙƒØªØ§Ø¨ÙŠ",    m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø¬Ø¨Ø±",              m1:"~", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©",            m1:"~", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù¨ â€” Ù„ÙˆÙ‰ Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø§Ù„Ø±Ø²Ù‚ÙŠ (Ø§Ù†ØªØ³Ø§Ø¨)
  "6812": {
    name: "Ù„ÙˆÙ‰ Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø§Ù„Ø±Ø²Ù‚ÙŠ",
    id_full: "1154316812",
    grade: "Ø§Ù†ØªØ³Ø§Ø¨",
    phone: "0531503194",
    plan: [
      { title: "Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨ÙØ¹Ø¯", desc: "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯ÙˆØ±ÙŠ", desc: "Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆÙÙ‚ ØªØ±ØªÙŠØ¨Ø§Øª Ø§Ù„Ø§Ù†ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…", desc: "Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù† Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª", color: "#c8973a" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø·Ø§Ù„Ø¨ Ø§Ù„Ø§Ù†ØªØ³Ø§Ø¨", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#f3f4f6", tag: "Ø§Ù†ØªØ³Ø§Ø¨", tagClass: "tag-gray" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", m1:"âœ“", m2:"~", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª",           m1:"~", m2:"âœ“", m3:"âœ“", m4:"~", m5:"âœ“" },
    ]
  },

  // Ù…Ù¡Ù© â€” Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø§Ø¬Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ (Ø§Ù†ØªØ³Ø§Ø¨)
  "5237": {
    name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø§Ø¬Ø¯ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ",
    id_full: "1154065237",
    grade: "Ø§Ù†ØªØ³Ø§Ø¨",
    phone: "0500048000",
    plan: [
      { title: "Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨ÙØ¹Ø¯", desc: "Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", color: "#7c3aed" },
      { title: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯ÙˆØ±ÙŠ", desc: "Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙØµÙ„ÙŠØ© ÙˆÙÙ‚ ØªØ±ØªÙŠØ¨Ø§Øª Ø§Ù„Ø§Ù†ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©", color: "#1a6b4a" },
      { title: "Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„Ù…", desc: "Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù† Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª", color: "#c8973a" },
    ],
    reports: [
      { title: "ØªÙ‚Ø±ÙŠØ± Ø·Ø§Ù„Ø¨ Ø§Ù„Ø§Ù†ØªØ³Ø§Ø¨", date: "Ù…Ø­Ø±Ù… 1447", icon: "ğŸ“‹", bg: "#f3f4f6", tag: "Ø§Ù†ØªØ³Ø§Ø¨", tagClass: "tag-gray" },
    ],
    followup: [
      { skill: "Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©", m1:"âœ“", m2:"âœ“", m3:"âœ“", m4:"âœ“", m5:"âœ“" },
      { skill: "Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª",           m1:"~", m2:"âœ“", m3:"~", m4:"âœ“", m5:"âœ“" },
    ]
  },
};

// =====================================================
// LOGIC
// =====================================================
let currentStudent = null;

// ===== STUDENT PHOTO =====
const SB_PHOTOS = "https://pyrxwqgapwjwhiskowhk.supabase.co/storage/v1/object/public/reports/photos/";
const SB_URL    = "https://pyrxwqgapwjwhiskowhk.supabase.co";
const SB_KEY    = "sb_publishable_bfe-B4f-Rag1SR0-PoIb9w_nMfA1Ere";

async function loadStudentPhoto(pin) {
  const exts = ['jpg','jpeg','png','webp'];
  for (const ext of exts) {
    const url = `${SB_PHOTOS}photo-${pin}.${ext}`;
    try {
      const r = await fetch(url, { method: 'HEAD' });
      if (r.ok) {
        document.getElementById('student-photo-img').src = url;
        document.getElementById('student-photo-img').style.display = 'block';
        document.getElementById('student-photo-emoji').style.display = 'none';
        break;
      }
    } catch(e) {}
  }
}

async function uploadStudentPhoto(input) {
  const file = input.files[0];
  if (!file) return;
  const pin = currentStudent?.pin;
  if (!pin) return;

  const ext = file.name.split('.').pop();
  const fileName = `photos/photo-${pin}.${ext}`;

  // Ø¹Ø±Ø¶ Ù…Ø³Ø¨Ù‚
  const reader = new FileReader();
  reader.onload = e => {
    document.getElementById('student-photo-img').src = e.target.result;
    document.getElementById('student-photo-img').style.display = 'block';
    document.getElementById('student-photo-emoji').style.display = 'none';
  };
  reader.readAsDataURL(file);

  // Ø±ÙØ¹ Ù„Ù€ Supabase
  try {
    await fetch(`${SB_URL}/storage/v1/object/reports/${fileName}`, {
      method: 'POST',
      headers: {
        'apikey': SB_KEY,
        'Authorization': 'Bearer ' + SB_KEY,
        'Content-Type': file.type,
        'x-upsert': 'true'
      },
      body: file
    });
  } catch(e) { console.error('Ø®Ø·Ø£ ÙÙŠ Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±Ø©:', e); }
}

function hidePlanSection(id) {
  const el = document.getElementById(id);
  if (el) el.style.display = 'none';
}

function checkIframe(iframe, sectionId) {
  try {
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ 404 Ù†Ø®ÙÙŠ Ø§Ù„Ù‚Ø³Ù…
    const loc = iframe.contentWindow.location.href;
    if (loc.includes('404') || loc.includes('not-found')) hidePlanSection(sectionId);
  } catch(e) {
    // cross-origin = Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯
  }
}

function loadStudent(pin) {
  const s = STUDENTS[pin];
  s.pin = pin;
  currentStudent = s;

  document.getElementById('disp-name').textContent = s.name;
  // ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ø·Ø§Ù„Ø¨
  document.getElementById('student-photo-img').style.display = 'none';
  document.getElementById('student-photo-emoji').style.display = 'block';
  loadStudentPhoto(pin);
  document.getElementById('disp-grade').textContent = s.grade === 'Ø§Ù†ØªØ³Ø§Ø¨' ? 'ğŸ“‹ Ø§Ù†ØªØ³Ø§Ø¨' : 'ğŸ« ' + s.grade;
  document.getElementById('disp-id').textContent = 'Ø§Ù„Ø³Ø¬Ù„: ' + s.id_full;

  // PLAN â€” Ù…Ù† Supabase ÙÙ‚Ø·
  const SB_PLAN = "https://pyrxwqgapwjwhiskowhk.supabase.co/storage/v1/object/public/reports/";

  document.getElementById('plan-pdfs').innerHTML = `
    <div class="pdf-section" id="custom-plan-section" style="display:none;">
      <div class="pdf-section-title">ğŸ“‹ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø§Ù„Ù…Ø®ØµØµØ©</div>
      <div class="pdf-frame-wrap" id="custom-plan-frame"></div>
      <div class="pdf-actions" id="custom-plan-actions"></div>
    </div>
    <div id="no-plan-msg" style="text-align:center;padding:40px;color:#9ca3af;">
      <div style="font-size:2.5rem;margin-bottom:12px;">ğŸ“‹</div>
      <div style="font-weight:700;font-size:0.95rem;">Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø¨Ø¹Ø¯</div>
      <div style="font-size:0.8rem;margin-top:6px;">Ø³ÙŠØªÙ… Ø¥Ø´Ø¹Ø§Ø±Ùƒ Ø¹Ù†Ø¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§</div>
    </div>
  `;

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø®Ø·Ø© ÙÙŠ Supabase
  (async () => {
    const exts = ['pdf','PDF','docx','doc'];
    let found = false;
    for (const ext of exts) {
      const url = `${SB_PLAN}plan-${pin}.${ext}`;
      try {
        const res = await fetch(url, { method: 'HEAD' });
        if (res.ok) {
          found = true;
          document.getElementById('no-plan-msg').style.display = 'none';
          document.getElementById('custom-plan-section').style.display = 'block';
          document.getElementById('custom-plan-frame').innerHTML =
            ext === 'pdf' || ext === 'PDF'
              ? `<iframe src="${url}" title="Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø§Ù„Ù…Ø®ØµØµØ©"></iframe>`
              : `<div style="padding:20px;text-align:center;color:#5a6478;font-size:0.88rem;">ğŸ“ Ù…Ù„Ù Ø§Ù„Ø®Ø·Ø© Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ­Ù…ÙŠÙ„</div>`;
          document.getElementById('custom-plan-actions').innerHTML = `
            <a href="${url}" target="_blank" class="btn-pdf btn-pdf-primary">ğŸ”— ÙØªØ­ Ø§Ù„Ø®Ø·Ø©</a>
            <a href="${url}" download class="btn-pdf btn-pdf-secondary">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©</a>
          `;
          break;
        }
      } catch(e) {}
    }
  })();

  // REPORTS
  const rl = document.getElementById('reports-list');
  const studentPin = s.pin || Object.keys(STUDENTS).find(k => STUDENTS[k] === s) || '';
  const SB_STORAGE = "https://pyrxwqgapwjwhiskowhk.supabase.co/storage/v1/object/public/reports/";

  // Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ù„Ù
  async function checkFile(url) {
    try {
      const r = await fetch(url, { method: 'HEAD' });
      return r.ok;
    } catch { return false; }
  }

  // Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø«Ø§Ø¨ØªØ© Ù„ÙƒÙ„ Ø·Ø§Ù„Ø¨
  const fixedReports = [
    { title: "Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†ÙØ³ÙŠ Ø§Ù„Ù…ÙˆØ­Ø¯", icon: "ğŸ§ ", bg: "#ede9fe", tag: "Ù†ÙØ³ÙŠ", tagClass: "tag-purple", date: "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", fileKey: `psych-${studentPin}` },
    { title: "Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø·Ø¨ÙŠ",          icon: "ğŸ¥", bg: "#dbeafe", tag: "Ø·Ø¨ÙŠ",  tagClass: "tag-blue",   date: "Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447", fileKey: `medical-${studentPin}` },
  ];

  const reportsWithFiles = s.reports.map((r, i) => ({
    ...r,
    fileKey: r.fileKey || `report${i+1}-${studentPin}`
  }));

  const allReports = [...fixedReports, ...reportsWithFiles];

  // Ø±Ø³Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø£ÙˆÙ„Ø§Ù‹
  rl.innerHTML = allReports.map((r, idx) => `
    <div class="report-row">
      <div class="report-left">
        <div class="report-icon" style="background:${r.bg}">${r.icon}</div>
        <div>
          <div class="report-name">${r.title}</div>
          <div class="report-date">ğŸ“… ${r.date}</div>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <span class="tag ${r.tagClass}">${r.tag}</span>
        <span id="dl-btn-${idx}" class="btn-download-report" style="opacity:0.4;cursor:default;">â³</span>
      </div>
    </div>
  `).join('');

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ ÙƒÙ„ Ù…Ù„Ù ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
  allReports.forEach(async (r, idx) => {
    const extensions = ['pdf', 'PDF', 'docx', 'doc', 'jpg', 'png'];
    let found = false;
    for (const ext of extensions) {
      const url = `${SB_STORAGE}${r.fileKey}.${ext}`;
      const exists = await checkFile(url);
      if (exists) {
        const btn = document.getElementById(`dl-btn-${idx}`);
        if (btn) {
          btn.outerHTML = `<a href="${url}" download target="_blank" class="btn-download-report" title="ØªØ­Ù…ÙŠÙ„ ${r.title}">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„</a>`;
        }
        found = true;
        break;
      }
    }
    if (!found) {
      const btn = document.getElementById(`dl-btn-${idx}`);
      if (btn) { btn.textContent = 'â€”'; btn.style.opacity = '0.3'; }
    }
  });

  // INFO
  const it = document.getElementById('info-tbl');
  it.innerHTML = `
    <tr><th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th><td>${s.name}</td></tr>
    <tr><th>Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…Ø¯Ù†ÙŠ</th><td>${s.id_full}</td></tr>
    <tr><th>Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</th><td>${s.grade}</td></tr>
    <tr><th>Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</th><td><span class="tag tag-green">ğŸ“˜ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</span></td></tr>
    <tr><th>Ø¬ÙˆØ§Ù„ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</th><td><a href="tel:${s.phone}" style="color:var(--green); font-weight:700;">${s.phone}</a></td></tr>
    <tr><th>Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</th><td>1447Ù‡Ù€</td></tr>
    <tr><th>Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</th><td>Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ</td></tr>
  `;

  // IQRAR
  const today = new Date();
  const dateStr = today.toLocaleDateString('ar-SA-u-nu-latn', { year:'numeric', month:'long', day:'numeric' });
  document.getElementById('iqrar-content').innerHTML = `
    <div class="iqrar-box">
      <h3>ğŸ“„ Ù†Øµ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø±</h3>
      <p>
        Ø£Ù†Ø§ ÙˆÙ„ÙŠ Ø£Ù…Ø± Ø§Ù„Ø·Ø§Ù„Ø¨ / <strong>${s.name}</strong>ØŒ Ø£ÙÙ‚Ø±Ù‘ Ø¨Ø£Ù†Ù†ÙŠ Ø§Ø·Ù„Ø¹ØªÙ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø§Ù„Ù…ÙØ¹Ø¯ÙÙ‘Ø© Ù„Ø§Ø¨Ù†ÙŠ
        Ù„Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1447Ù‡Ù€ØŒ ÙˆØ£Ù†Ù†ÙŠ Ø¹Ù„Ù‰ Ø¯Ø±Ø§ÙŠØ© Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© ÙÙŠÙ‡Ø§ØŒ
        ÙˆØ£ØªØ¹Ù‡Ø¯ Ø¨Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ø§Ø¨Ù†ÙŠ.
      </p>
    </div>

    <div class="iqrar-fields">
      <div class="iqrar-field">
        <label>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</label>
        <span>${s.name}</span>
      </div>
      <div class="iqrar-field">
        <label>Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</label>
        <span>${s.grade}</span>
      </div>
      <div class="iqrar-field">
        <label>Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</label>
        <span>ğŸ“˜ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</span>
      </div>
      <div class="iqrar-field">
        <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù‚Ø±Ø§Ø±</label>
        <span id="iqrar-date">${dateStr}</span>
      </div>
    </div>

    <div style="font-size:0.84rem; font-weight:700; color:var(--primary); margin-bottom:8px;">âœï¸ ØªÙˆÙ‚ÙŠØ¹ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± (Ø§Ø±Ø³Ù… ØªÙˆÙ‚ÙŠØ¹Ùƒ Ø¨Ø§Ù„Ø£Ø³ÙÙ„)</div>
    <div class="sign-area" id="sign-area">
      <canvas id="sign-canvas"></canvas>
      <div class="sign-placeholder" id="sign-placeholder">
        <span>âœï¸</span>
        Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ÙˆØ§Ø±Ø³Ù… ØªÙˆÙ‚ÙŠØ¹Ùƒ
      </div>
    </div>

    <div class="iqrar-actions">
      <button class="btn-sign" onclick="submitIqrar()">âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø± ÙˆØ§Ù„ØªÙˆÙ‚ÙŠØ¹</button>
      <button class="btn-clear-sign" onclick="clearSign()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹</button>
      <button id="btn-save-pdf" onclick="saveIqrarPDF()" style="display:none; align-items:center; gap:7px; padding:9px 18px; border-radius:9px; background:linear-gradient(135deg,#1a3a5c,#2563a8); color:#fff; border:none; font-family:'Cairo',sans-serif; font-size:0.84rem; font-weight:700; cursor:pointer; box-shadow:0 3px 12px rgba(26,58,92,0.3);">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / Ø­ÙØ¸ PDF</button>
    </div>

    <div class="signed-badge" id="signed-badge">
      âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¥Ù‚Ø±Ø§Ø±Ùƒ Ø¨Ù†Ø¬Ø§Ø­ â€” Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ¹Ø§ÙˆÙ†ÙƒÙ…
    </div>
  `;

  // Initialize signature canvas
  initCanvas();

  // SHOW PORTAL
  // Reset to first tab (info)
  document.querySelectorAll('.tab-btn').forEach((b,i) => b.classList.toggle('active', i===0));
  document.querySelectorAll('.tab-pane').forEach((p,i) => p.classList.toggle('active', i===0));

  document.getElementById('login-screen').style.display = 'none';
  document.getElementById('student-portal').style.display = 'block';
  window.scrollTo(0, 0);
}

function logout() {
  currentStudent = null;
  document.getElementById('pin-input').value = '';
  document.getElementById('student-portal').style.display = 'none';
  document.getElementById('login-screen').style.display = 'flex';
  // Reset tabs
  document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
  document.getElementById('tab-plan').classList.add('active');
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.querySelector('.tab-btn').classList.add('active');
}

function openTab(id, btn) {
  document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('tab-' + id).classList.add('active');
  btn.classList.add('active');
  // Init canvas when iqrar tab is opened
  if (id === 'iqrar') setTimeout(initCanvas, 100);
}

// Legend
// =====================================================
// SIGNATURE CANVAS
// =====================================================
let isDrawing = false;
let signCanvas, signCtx;

function initCanvas() {
  setTimeout(() => {
    signCanvas = document.getElementById('sign-canvas');
    if (!signCanvas) return;
    const area = document.getElementById('sign-area');
    signCanvas.width = area.offsetWidth;
    signCanvas.height = area.offsetHeight;
    signCtx = signCanvas.getContext('2d');
    signCtx.strokeStyle = '#1a3a5c';
    signCtx.lineWidth = 2.5;
    signCtx.lineCap = 'round';
    signCtx.lineJoin = 'round';

    signCanvas.addEventListener('mousedown', startDraw);
    signCanvas.addEventListener('mousemove', draw);
    signCanvas.addEventListener('mouseup', stopDraw);
    signCanvas.addEventListener('mouseleave', stopDraw);
    signCanvas.addEventListener('touchstart', e => { e.preventDefault(); startDraw(e.touches[0]); }, {passive:false});
    signCanvas.addEventListener('touchmove', e => { e.preventDefault(); draw(e.touches[0]); }, {passive:false});
    signCanvas.addEventListener('touchend', stopDraw);
  }, 150);
}

function getPos(e) {
  const rect = signCanvas.getBoundingClientRect();
  return {
    x: (e.clientX - rect.left) * (signCanvas.width / rect.width),
    y: (e.clientY - rect.top) * (signCanvas.height / rect.height)
  };
}

function startDraw(e) {
  isDrawing = true;
  let pos = getPos(e);
  signCtx.beginPath();
  signCtx.moveTo(pos.x, pos.y);
  document.getElementById('sign-placeholder').style.display = 'none';
  document.getElementById('sign-area').classList.add('signed');
}

function draw(e) {
  if (!isDrawing) return;
  let pos = getPos(e);
  signCtx.lineTo(pos.x, pos.y);
  signCtx.stroke();
}

function stopDraw() { isDrawing = false; }

function clearSign() {
  if (!signCtx) return;
  signCtx.clearRect(0, 0, signCanvas.width, signCanvas.height);
  const ph = document.getElementById('sign-placeholder');
  if (ph) ph.style.display = 'flex';
  document.getElementById('sign-area').classList.remove('signed');
  document.getElementById('signed-badge').style.display = 'none';
  const btnClear = document.querySelector('.btn-sign');
  if (btnClear) { btnClear.textContent = 'âœ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø± ÙˆØ§Ù„ØªÙˆÙ‚ÙŠØ¹'; btnClear.disabled = false; btnClear.style.opacity = '1'; }
}

async function submitIqrar() {
  if (!signCanvas) return;
  let data = signCtx.getImageData(0, 0, signCanvas.width, signCanvas.height).data;
  const hasDrawing = Array.from(data).some((v, i) => i % 4 === 3 && v > 0);
  if (!hasDrawing) {
    alert('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø±Ø³Ù… ØªÙˆÙ‚ÙŠØ¹Ùƒ ÙÙŠ Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø£ÙˆÙ„Ø§Ù‹');
    return;
  }

  // Embed signature image into iqrar
  let signImg = signCanvas.toDataURL('image/png');
  const signArea = document.getElementById('sign-area');
  signArea.innerHTML = `<img src="${signImg}" style="width:100%;height:100%;object-fit:contain;padding:6px;">`;
  signArea.classList.add('signed');

  // Ø­ÙØ¸ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ ÙÙŠ Supabase
  const sIqrar = currentStudent;
  const btnSign = document.querySelector('.btn-sign');
  btnSign.textContent = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...';
  btnSign.disabled = true;
  btnSign.style.opacity = '0.7';

  await sbSaveSignature(sIqrar.pin, sIqrar.name, sIqrar.grade, signImg);

  document.getElementById('signed-badge').style.display = 'flex';
  btnSign.textContent = 'âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ù‚Ø±Ø§Ø± ÙˆØ­ÙØ¸ Ø§Ù„ØªÙˆÙ‚ÙŠØ¹';

  // Show PDF save button
  document.getElementById('btn-save-pdf').style.display = 'inline-flex';
}

function saveIqrarPDF() {
  const sPDF = currentStudent;
  let signImg = document.querySelector('#sign-area img');
  let signSrc = signImg ? signImg.src : '';
  let todayPDF = new Date().toLocaleDateString('ar-SA-u-nu-latn', {year:'numeric',month:'long',day:'numeric'});

  const win = window.open('', '_blank');
  win.document.write(`
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>Ø¥Ù‚Ø±Ø§Ø± ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± â€” ${sPDF.name}</title>
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Cairo',sans-serif; background:#fff; color:#1a1a2e; padding:40px; direction:rtl; }
        .header { text-align:center; margin-bottom:30px; border-bottom:3px solid #1a3a5c; padding-bottom:20px; }
        .header h1 { font-size:1.4rem; font-weight:800; color:#1a3a5c; margin-bottom:4px; }
        .header p { font-size:0.85rem; color:#5a6478; }
        .badge { display:inline-block; background:#1a3a5c; color:#fff; padding:4px 16px; border-radius:20px; font-size:0.78rem; font-weight:700; margin-bottom:10px; }
        .iqrar-text { background:#fffbf0; border:1px solid #f0d898; border-right:4px solid #c8973a; border-radius:10px; padding:18px 20px; margin:20px 0; font-size:0.9rem; line-height:2; }
        .fields { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin:20px 0; }
        .field { border:1px solid #e0d8c8; border-radius:8px; padding:10px 14px; }
        .field-label { font-size:0.72rem; font-weight:700; color:#5a6478; margin-bottom:4px; }
        .field-value { font-size:0.9rem; font-weight:800; color:#1a3a5c; }
        .sign-section { margin-top:24px; }
        .sign-title { font-size:0.85rem; font-weight:700; color:#1a3a5c; margin-bottom:10px; }
        .sign-box { border:2px solid #1a3a5c; border-radius:10px; height:120px; display:flex; align-items:center; justify-content:center; overflow:hidden; }
        .sign-box img { max-height:110px; }
        .footer { margin-top:30px; text-align:center; font-size:0.75rem; color:#9ca3af; border-top:1px solid #e0d8c8; padding-top:14px; }
        @media print { body { padding:20px; } }
      </style>
    </head>
    <body>
      <div class="header">
        <div class="badge">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ… â€” Ù…Ø¯Ø±Ø³Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</div>
        <h1>Ø¥Ù‚Ø±Ø§Ø± Ø§Ø·Ù„Ø§Ø¹ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©</h1>
        <p>Ù‚Ø³Ù… Ø°ÙˆÙŠ Ø§Ù„Ø¥Ø¹Ø§Ù‚Ø© â€” Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</p>
      </div>

      <div class="iqrar-text">
        Ø£Ù†Ø§ ÙˆÙ„ÙŠ Ø£Ù…Ø± Ø§Ù„Ø·Ø§Ù„Ø¨ / <strong>${sPDF.name}</strong>ØŒ Ø£ÙÙ‚Ø±Ù‘ Ø¨Ø£Ù†Ù†ÙŠ Ø§Ø·Ù„Ø¹ØªÙ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„ÙØ±Ø¯ÙŠØ© Ø§Ù„Ù…ÙØ¹Ø¯ÙÙ‘Ø© Ù„Ø§Ø¨Ù†ÙŠ
        Ù„Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ù† Ø§Ù„Ø¹Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ 1447Ù‡Ù€ØŒ ÙˆØ£Ù†Ù†ÙŠ Ø¹Ù„Ù‰ Ø¯Ø±Ø§ÙŠØ© Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© ÙÙŠÙ‡Ø§ØŒ
        ÙˆØ£ØªØ¹Ù‡Ø¯ Ø¨Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ù…Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ø§Ø¨Ù†ÙŠ.
      </div>

      <div class="fields">
        <div class="field"><div class="field-label">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</div><div class="field-value">${sPDF.name}</div></div>
        <div class="field"><div class="field-label">Ø§Ù„ØµÙ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</div><div class="field-value">${sPDF.grade}</div></div>
        <div class="field"><div class="field-label">Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</div><div class="field-value">ğŸ“˜ Ø¨Ø±Ù†Ø§Ù…Ø¬ ÙŠØ³ÙŠØ± Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ</div></div>
        <div class="field"><div class="field-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù‚Ø±Ø§Ø±</div><div class="field-value">${todayPDF}</div></div>
      </div>

      <div class="sign-section">
        <div class="sign-title">âœï¸ ØªÙˆÙ‚ÙŠØ¹ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</div>
        <div class="sign-box">
          ${signSrc ? `<img src="${signSrc}">` : '<span style="color:#9ca3af;font-size:0.85rem;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙ‚ÙŠØ¹</span>'}
        </div>
      </div>

      <div class="footer">
        Â© 1447Ù‡Ù€ â€” Ù…Ø¯Ø±Ø³Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø© â€” Ù‚Ø³Ù… Ø°ÙˆÙŠ Ø§Ù„Ø¥Ø¹Ø§Ù‚Ø© â€” Ø¥Ø¹Ø¯Ø§Ø¯: Ø£. Ø³Ø¹Ø¯ Ø§Ù„Ø²Ù‡Ø±Ø§Ù†ÙŠ
      </div>
      <script>window.onload=()=>window.print();<\/script>
    </body>
    </html>
  `);
  win.document.close();
}



// =====================================================
// ADMIN PANEL FUNCTIONS
// =====================================================
let editingPin = null;

function checkPin() {
  const enteredPin = document.getElementById('pin-input').value.trim();
  const errMsg = document.getElementById('error-msg');
  const pinInput = document.getElementById('pin-input');

  if (enteredPin === ADMIN_PIN) {
    errMsg.classList.remove('show');
    pinInput.classList.remove('error');
    loadAdminPanel();
  } else if (STUDENTS[enteredPin]) {
    errMsg.classList.remove('show');
    pinInput.classList.remove('error');
    loadStudentWithSync(enteredPin);
  } else {
    errMsg.classList.add('show');
    pinInput.classList.add('error');
    pinInput.value = '';
    setTimeout(() => pinInput.classList.remove('error'), 500);
  }
}

async function loadAdminPanel() {
  document.getElementById('login-screen').style.display = 'none';
  document.getElementById('student-portal').style.display = 'none';
  document.getElementById('admin-portal').style.display = 'block';
  document.getElementById('admin-student-count').textContent = 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
  window.scrollTo(0, 0);
  await syncFromSupabase();
  renderStudentCards();
}

// ===== SUPABASE SYNC =====
const SB_TABLE = SUPABASE_URL + '/rest/v1/yaseer_students';
const SB_HEADERS = {
  'apikey': SUPABASE_KEY,
  'Authorization': 'Bearer ' + SUPABASE_KEY,
  'Content-Type': 'application/json',
  'Prefer': 'return=minimal'
};

async function syncFromSupabase() {
  // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ Ù…Ù† Storage
  const pins = Object.keys(STUDENTS);
  await Promise.all(pins.map(pin => loadStudentDataFromStorage(pin)));
}

async function loadStudentDataFromStorage(pin) {
  try {
    const res = await fetch(`${SB_URL}/storage/v1/object/public/reports/yaseer/data/student-${pin}.json`);
    if (!res.ok) return; // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ù Ù…Ø­ÙÙˆØ¸ Ø¨Ø¹Ø¯
    const data = await res.json();
    if (data && STUDENTS[pin]) {
      STUDENTS[pin].name     = data.name     || STUDENTS[pin].name;
      STUDENTS[pin].grade    = data.grade    || STUDENTS[pin].grade;
      STUDENTS[pin].id_full  = data.id_full  || STUDENTS[pin].id_full;
      STUDENTS[pin].phone    = data.phone    || STUDENTS[pin].phone || '';
      STUDENTS[pin].plan     = data.plan     || STUDENTS[pin].plan     || [];
      STUDENTS[pin].followup = data.followup || STUDENTS[pin].followup || [];
    }
  } catch(e) { /* Ù…Ù„Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ */ }
}

async function loadStudentWithSync(pin) {
  await loadStudentDataFromStorage(pin);
  loadStudent(pin);
}

async function upsertToSupabase(pin, studentData) {
  try {
    const jsonStr = JSON.stringify({
      pin,
      name:     studentData.name,
      id_full:  studentData.id_full,
      grade:    studentData.grade,
      phone:    studentData.phone || '',
      plan:     studentData.plan     || [],
      followup: studentData.followup || []
    });
    const blob = new Blob([jsonStr], {type: 'application/json'});
    const res = await fetch(`${SB_URL}/storage/v1/object/reports/yaseer/data/student-${pin}.json`, {
      method: 'POST',
      headers: {
        'apikey': SB_KEY,
        'Authorization': 'Bearer ' + SB_KEY,
        'Content-Type': 'application/json',
        'x-upsert': 'true'
      },
      body: blob
    });
    if (res.ok) {
      showToast('âœ… ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª ' + studentData.name);
    } else {
      const err = await res.text();
      console.error('Storage error:', err);
      showToast('âŒ Ø®Ø·Ø£: ' + err.slice(0,60));
    }
  } catch(e) {
    console.error('Ø®Ø·Ø£:', e);
    showToast('âŒ ØªØ¹Ø°Ù‘Ø± Ø§Ù„Ø§ØªØµØ§Ù„');
  }
}



function adminLogout() {
  document.getElementById('pin-input').value = '';
  document.getElementById('admin-portal').style.display = 'none';
  document.getElementById('login-screen').style.display = 'flex';
}

function openAdminTab(id, btn) {
  document.querySelectorAll('#admin-portal .admin-tab-pane').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('#admin-portal .admin-tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('admin-tab-' + id).classList.add('active');
  btn.classList.add('active');
}

function renderStudentCards() {
  const search = (document.getElementById('admin-search')?.value || '').toLowerCase();
  const grid = document.getElementById('students-grid');
  const entries = Object.entries(STUDENTS).filter(([pin, s]) =>
    s.name.toLowerCase().includes(search) || pin.includes(search)
  );

  // ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØµÙ
  entries.sort((a, b) => a[1].grade.localeCompare(b[1].grade, 'ar'));

  grid.innerHTML = entries.map(([pin, s]) => `
    <div class="stu-card" onclick="openEditModal('${pin}')">
      <div class="stu-card-avatar">ğŸ“</div>
      <div style="flex:1;min-width:0;">
        <div class="stu-card-name">${s.name}</div>
        <div class="stu-card-meta">${s.grade}</div>
        <div style="margin-top:4px;display:flex;gap:6px;align-items:center;">
          <span class="stu-card-pin">${pin}</span>
          <span style="font-size:0.7rem;color:var(--muted);">${s.phone || 'â€”'}</span>
        </div>
      </div>
      <div style="color:var(--muted);font-size:1.1rem;">âœï¸</div>
    </div>
  `).join('');

  // Ø¥Ø¶Ø§ÙØ© Ø¹Ø¯Ø§Ø¯
  document.getElementById('admin-student-count').textContent = Object.keys(STUDENTS).length + ' Ø·Ø§Ù„Ø¨';
}

function openEditModal(pin) {
  editingPin = pin;
  const sModal = STUDENTS[pin];
  document.getElementById('modal-title').textContent = 'âœï¸ ØªØ¹Ø¯ÙŠÙ„: ' + sModal.name;
  document.getElementById('edit-name').value = sModal.name;
  document.getElementById('edit-grade').value = sModal.grade;
  document.getElementById('edit-id').value = sModal.id_full;
  document.getElementById('edit-phone').value = sModal.phone || '';

  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø·Ø©
  renderPlanEditor(sModal.plan || []);
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©
  renderFollowupEditor(sModal.followup || []);

  // ÙØªØ­ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  openEditTab('basic', document.querySelector('#edit-modal .admin-tab-btn'));
  document.getElementById('edit-modal').classList.add('open');
}

function openEditTab(id, btn) {
  ['basic','plan','followup'].forEach(t => {
    document.getElementById('edit-tab-' + t).style.display = t === id ? 'block' : 'none';
  });
  document.querySelectorAll('#edit-modal .admin-tab-btn').forEach(b => b.classList.remove('active'));
  if (btn) btn.classList.add('active');
}

function closeModal() {
  document.getElementById('edit-modal').classList.remove('open');
  editingPin = null;
}

// ===== PLAN EDITOR =====
function renderPlanEditor(plan) {
  let container = document.getElementById('plan-goals-editor');
  container.innerHTML = plan.map((g, i) => goalRowHTML(g.title, g.desc, i)).join('');
}

function goalRowHTML(title, desc, i) {
  return `<div class="goal-row" id="goal-row-${i}">
    <button class="btn-remove-goal" onclick="removeGoalRow(${i})">âœ•</button>
    <input type="text" class="form-input" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‡Ø¯Ù" value="${title || ''}" data-goal-title="${i}">
    <input type="text" class="form-input" placeholder="ÙˆØµÙ Ø§Ù„Ù‡Ø¯Ù" value="${desc || ''}" data-goal-desc="${i}">
  </div>`;
}

function addGoalRow() {
  let container = document.getElementById('plan-goals-editor');
  let i = container.children.length;
  let div = document.createElement('div');
  div.innerHTML = goalRowHTML('', '', i);
  container.appendChild(div.firstChild);
}

function removeGoalRow(i) {
  document.getElementById('goal-row-' + i)?.remove();
}

// ===== FOLLOWUP EDITOR =====
const FU_OPTIONS = ['âœ“','~','âœ—'];

function renderFollowupEditor(followup) {
  let container = document.getElementById('followup-editor');
  container.innerHTML = followup.map((f, i) => followupRowHTML(f, i)).join('');
}

function followupRowHTML(f, i) {
  const sel = (val, key) => FU_OPTIONS.map(o =>
    `<option value="${o}" ${f[key]===o?'selected':''}>${o}</option>`
  ).join('');
  return `<div class="fu-edit-row" id="fu-row-${i}">
    <input type="text" placeholder="Ø§Ù„Ù…Ù‡Ø§Ø±Ø©" value="${f.skill||''}" data-fu-skill="${i}">
    <select data-fu-m1="${i}">${sel(f.m1,'m1')}</select>
    <select data-fu-m2="${i}">${sel(f.m2,'m2')}</select>
    <select data-fu-m3="${i}">${sel(f.m3,'m3')}</select>
    <select data-fu-m4="${i}">${sel(f.m4,'m4')}</select>
    <select data-fu-m5="${i}">${sel(f.m5,'m5')}</select>
    <button onclick="removeFuRow(${i})" style="background:#fee2e2;color:#dc2626;border:none;border-radius:6px;width:26px;height:26px;cursor:pointer;font-size:0.8rem;">âœ•</button>
  </div>`;
}

function addFollowupRow() {
  let container = document.getElementById('followup-editor');
  let i = container.children.length;
  let div = document.createElement('div');
  div.innerHTML = followupRowHTML({skill:'',m1:'~',m2:'~',m3:'~',m4:'~',m5:'~'}, i);
  container.appendChild(div.firstChild);
}

function removeFuRow(i) {
  document.getElementById('fu-row-' + i)?.remove();
}

// ===== SAVE =====
function saveStudentEdits() {
  if (!editingPin) return;
  const sEdit = STUDENTS[editingPin];

  sEdit.name    = document.getElementById('edit-name').value.trim() || sEdit.name;
  sEdit.grade   = document.getElementById('edit-grade').value.trim() || sEdit.grade;
  sEdit.id_full = document.getElementById('edit-id').value.trim() || sEdit.id_full;
  sEdit.phone   = document.getElementById('edit-phone').value.trim();

  const goalTitles = document.querySelectorAll('[data-goal-title]');
  const goalDescs  = document.querySelectorAll('[data-goal-desc]');
  sEdit.plan = [];
  goalTitles.forEach((el, i) => {
    const title = el.value.trim();
    const desc  = goalDescs[i]?.value.trim() || '';
    if (title) sEdit.plan.push({ title, desc, color: '#1a6b4a' });
  });

  const fuSkills = document.querySelectorAll('[data-fu-skill]');
  sEdit.followup = [];
  fuSkills.forEach((el, i) => {
    const skill = el.value.trim();
    if (skill) sEdit.followup.push({
      skill,
      m1: document.querySelector(`[data-fu-m1="${i}"]`)?.value || '~',
      m2: document.querySelector(`[data-fu-m2="${i}"]`)?.value || '~',
      m3: document.querySelector(`[data-fu-m3="${i}"]`)?.value || '~',
      m4: document.querySelector(`[data-fu-m4="${i}"]`)?.value || '~',
      m5: document.querySelector(`[data-fu-m5="${i}"]`)?.value || '~',
    });
  });

  closeModal();
  renderStudentCards();
  showToast('â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...');
  upsertToSupabase(editingPin, sEdit).then(() => showToast('âœ… ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª ' + sEdit.name));
}

// ===== DELETE =====
function deleteStudent() {
  if (!editingPin) return;
  const sDel = STUDENTS[editingPin];
  if (!confirm(`âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨ "${sDel.name}"ØŸ\nÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.`)) return;
  const deletedPin = editingPin;
  delete STUDENTS[deletedPin];
  closeModal();
  renderStudentCards();
  deleteFromSupabase(deletedPin).then(() => showToast('ğŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨ ' + sDel.name));
}

// ===== ADD NEW STUDENT =====
// auto-fill pin from ID
document.addEventListener('input', e => {
  if (e.target.id === 'new-id') {
    const val = e.target.value.trim();
    document.getElementById('new-pin-preview').value = val.length >= 4 ? val.slice(-4) : '';
  }
});

function addNewStudent() {
  const newName  = document.getElementById('new-name').value.trim();
  const newId    = document.getElementById('new-id').value.trim();
  const newGrade = document.getElementById('new-grade').value.trim();
  const newPhone = document.getElementById('new-phone').value.trim();

  if (!newName || !newId || !newGrade) { alert('âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø³Ø¬Ù„ ÙˆØ§Ù„ØµÙ'); return; }
  if (newId.length < 4) { alert('âš ï¸ Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹'); return; }

  const newPin = newId.slice(-4);
  if (STUDENTS[newPin]) {
    alert(`âš ï¸ Ø§Ù„Ø±Ù…Ø² "${newPin}" Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø·Ø§Ù„Ø¨: ${STUDENTS[newPin].name}\nÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„.`);
    return;
  }

  STUDENTS[newPin] = { name: newName, id_full: newId, grade: newGrade, phone: newPhone, plan: [], reports: [], followup: [] };

  // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
  ['new-name','new-id','new-grade','new-phone','new-pin-preview'].forEach(fieldId => {
    const fieldEl = document.getElementById(fieldId);
    if (fieldEl) fieldEl.value = '';
  });

  // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ù„Ø§Ø¨
  openAdminTab('list', document.querySelector('.admin-tab-btn'));
  renderStudentCards();
  showToast('â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...');
  upsertToSupabase(newPin, STUDENTS[newPin]).then(() =>
    showToast('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø·Ø§Ù„Ø¨ ' + newName + ' â€” Ø§Ù„Ø±Ù…Ø²: ' + newPin)
  );
}

// ===== TOAST =====
function showToast(msg) {
  const t = document.getElementById('success-toast');
  t.textContent = msg;
  t.style.display = 'block';
  setTimeout(() => t.style.display = 'none', 3000);
}

// Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø§Ù„Ø¶ØºØ· Ø®Ø§Ø±Ø¬Ù‡
document.getElementById('edit-modal')?.addEventListener('click', e => {
  if (e.target === document.getElementById('edit-modal')) closeModal();
});
</script>
</body>
</html>
